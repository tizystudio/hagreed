!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Hagreed={})}(this,function(i){"use strict";function a(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)e[n]=o[n]}return e}var r,s=function t(s,r){function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=a({},r,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o,i="";for(o in n)n[o]&&(i+="; "+o,!0!==n[o])&&(i+="="+n[o].split(";")[0]);return document.cookie=e+"="+s.write(t,e)+i}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],n={},o=0;o<t.length;o++){var i=t[o].split("="),r=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(n[a]=s.read(r,a),e===a)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){n(e,"",a({},t,{expires:-1}))},withAttributes:function(e){return t(this.converter,a({},this.attributes,e))},withConverter:function(e){return t(a({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(s)}})}({read:function(e){return(e='"'===e[0]?e.slice(1,-1):e).replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});(I=r=r||{}).ACCEPT_SELECTION="accept_selection",I.ACCEPT_ALL="accept_all",I.DECLINE_ALL="decline_all",I.MORE_INFO="more_informations",I.LESS_INFO="less_informations",i.CategoryEnum=void 0,(I=i.CategoryEnum||(i.CategoryEnum={})).NECESSARY="necessary",I.PREFERENCES="preferences",I.STATISTIQUES="statistiques",I.MARKETING="marketing",I.ADVERTISING="advertising",I.DIVERS="divers";const D=[{id:i.CategoryEnum.NECESSARY,name:"category.necessary.title",description:"category.necessary.text",is_checked:!0,cookies:[]},{id:i.CategoryEnum.PREFERENCES,name:"category.necessary.preference",description:"category.necessary.text",cookies:[]},{id:i.CategoryEnum.STATISTIQUES,name:"category.stats.title",description:"category.stats.text",cookies:[]},{id:i.CategoryEnum.MARKETING,name:"category.marketing.title",description:"category.marketing.text",cookies:[]},{id:i.CategoryEnum.ADVERTISING,name:"category.advertising.title",description:"category.advertising.text",cookies:[]},{id:i.CategoryEnum.DIVERS,name:"category.others.title",description:"category.others.text",cookies:[]}],$=e=>{const o=[];return e.forEach(t=>{var e,n=o.findIndex(e=>(null==e?void 0:e.id)===t.category);n<0?null!=(e=JSON.parse(JSON.stringify(D)).find(e=>e.id===t.category))&&e.cookies&&(e.cookies.push(t),o.push(e)):null!=(e=o[n].cookies)&&e.push(t)}),o},c={API_URL:"https://api.hagreed.com",TYPE:"free_sdk_node"};function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e){e=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=P(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==P(e)?e:String(e)}function U(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,F(o.key),o)}}function e(e,t,n){t&&U(e.prototype,t),n&&U(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}function d(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t,n){(t=F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function V(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?B(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var q={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}};function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,n),this.init(e,t)}e(n,[{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||q,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,o){return o&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(e){return new n(this.logger,H(H({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}},{key:"clone",value:function(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new n(this.logger,e)}}]);var g=new n,h=(e(K,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)}),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(function(e){return e!==t}):delete this.observers[e])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];this.observers[t]&&[].concat(this.observers[t]).forEach(function(e){e.apply(void 0,n)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){e.apply(e,[t].concat(n))})}}]),K);function K(){l(this,K),this.observers={}}function f(){var n,o,e=new Promise(function(e,t){n=e,o=t});return e.resolve=n,e.reject=o,e}function G(e){return null==e?"":""+e}function J(e,t,n){function o(e){return e&&-1<e.indexOf("###")?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var r="string"!=typeof t?[].concat(t):t.split(".");1<r.length;){if(i())return{};var a=o(r.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:o(r.shift())}}function Y(e,t,n){e=J(e,t,Object);e.obj[e.k]=n}function v(e,t){e=J(e,t),t=e.obj,e=e.k;if(t)return t[e]}function m(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Z(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return W[e]}):e}var y="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&-1<window.navigator.userAgent.indexOf("MSIE"),Q=[" ",",","?","!",";"];function X(e,t,n){var o=2<arguments.length&&void 0!==n?n:".";if(e){if(e[t])return e[t];for(var i=t.split(o),r=e,a=0;a<i.length;++a){if(!r)return;if("string"==typeof r[i[a]]&&a+1<i.length)return;if(void 0===r[i[a]]){for(var s=2,c=i.slice(a,a+s).join(o),l=r[c];void 0===l&&i.length>a+s;)s++,l=r[c=i.slice(a,a+s).join(o)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(c)){if("string"==typeof l)return l;if(c&&"string"==typeof l[c])return l[c]}var u=i.slice(a+s).join(o);return u?X(l,u,o):void 0}r=r[i[a]]}return r}}function ee(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ne(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p(n);return d(this,o?(e=p(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}t(b,h),oe=ne(b),e(b,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){e=this.options.ns.indexOf(e);-1<e&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=(void 0!==o.keySeparator?o:this.options).keySeparator,o=(void 0!==o.ignoreJSONStructure?o:this.options).ignoreJSONStructure,r=[e,t],r=(n&&"string"!=typeof n&&(r=r.concat(n)),n&&"string"==typeof n&&(r=r.concat(i?n.split(i):n)),-1<e.indexOf(".")&&(r=e.split(".")),v(this.data,r));return r||!o||"string"!=typeof n?r:X(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,o){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=this.options.keySeparator,a=(void 0===r&&(r="."),[e,t]);n&&(a=a.concat(r?n.split(r):n)),-1<e.indexOf(".")&&(o=t,t=(a=e.split("."))[1]),this.addNamespaces(t),Y(this.data,a,o),i.silent||this.emit("added",e,t,n,o)}},{key:"addResources",value:function(e,t,n){var o,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});i.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,o,i){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t],s=(-1<e.indexOf(".")&&(o=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t),v(this.data,a)||{});o?function e(t,n,o){for(var i in n)"__proto__"!==i&&"constructor"!==i&&(i in t?"string"==typeof t[i]||t[i]instanceof String||"string"==typeof n[i]||n[i]instanceof String?o&&(t[i]=n[i]):e(t[i],n[i],o):t[i]=n[i])}(s,n,i):s=te(te({},s),n),Y(this.data,a,s),r.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t=t||this.options.defaultNS,"v1"===this.options.compatibilityAPI?te(te({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(function(e){return t[e]&&0<Object.keys(t[e]).length})}},{key:"toJSON",value:function(){return this.data}}]);var oe,ie=b;function b(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return l(this,b),t=oe.call(this),y&&h.call(u(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}var re={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,o,i){var r=this;return e.forEach(function(e){r.processors[e]&&(t=r.processors[e].process(t,n,o,i))}),t}};function ae(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function se(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p(n);return d(this,o?(e=p(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}var ce,le={},ue=(t(A,h),ce=se(A),e(A,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){return null!=e&&(e=this.resolve(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}))&&void 0!==e.res}},{key:"extractFromKey",value:function(e,t){var n,o,i,r=(void 0!==t.nsSeparator?t:this.options).nsSeparator,a=(void 0===r&&(r=":"),(void 0!==t.keySeparator?t:this.options).keySeparator),s=t.ns||this.options.defaultNS||[],c=r&&-1<e.indexOf(r),l=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||(t=e,n=(n=r)||"",o=(o=a)||"",0===(l=Q.filter(function(e){return n.indexOf(e)<0&&o.indexOf(e)<0})).length)||((i=!(l=new RegExp("(".concat(l.map(function(e){return"?"===e?"\\?":e}).join("|"),")"))).test(t))||0<(u=t.indexOf(o))&&!l.test(t.substring(0,u))&&(i=!0),i));if(c&&!l){t=e.match(this.interpolator.nestingRegexp);if(t&&0<t.length)return{key:e,namespaces:s};var u=e.split(r);(r!==a||r===a&&-1<this.options.ns.indexOf(u[0]))&&(s=u.shift()),e=u.join(a)}return{key:e,namespaces:s="string"==typeof s?[s]:s}}},{key:"translate",value:function(e,o,t){var i=this;if("object"!==P(o)&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),o=(o="object"===P(o)?N({},o):o)||{},null==e)return"";Array.isArray(e)||(e=[String(e)]);var n=(void 0!==o.returnDetails?o:this.options).returnDetails,r=(void 0!==o.keySeparator?o:this.options).keySeparator,a=this.extractFromKey(e[e.length-1],o),s=a.key,c=a.namespaces,l=c[c.length-1],a=o.lng||this.language,u=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(a&&"cimode"===a.toLowerCase())return u?(u=o.nsSeparator||this.options.nsSeparator,n?{res:"".concat(l).concat(u).concat(s),usedKey:s,exactUsedKey:s,usedLng:a,usedNS:l}:"".concat(l).concat(u).concat(s)):n?{res:s,usedKey:s,exactUsedKey:s,usedLng:a,usedNS:l}:s;var u=this.resolve(e,o),d=u&&u.res,p=u&&u.usedKey||s,g=u&&u.exactUsedKey||s,h=Object.prototype.toString.apply(d),f=(void 0!==o.joinArrays?o:this.options).joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject;if(v&&d&&("string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(h)<0&&("string"!=typeof f||"[object Array]"!==h)){if(!o.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,N(N({},o),{},{ns:c})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string."),n?(u.res=b,u):b;if(r){var m,y,b="[object Array]"===h,k=b?[]:{},w=b?g:p;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&(y="".concat(w).concat(r).concat(m),k[m]=this.translate(y,N(N({},o),{joinArrays:!1,ns:c})),k[m]===y)&&(k[m]=d[m]);d=k}}else if(v&&"string"==typeof f&&"[object Array]"===h)d=(d=d.join(f))&&this.extendTranslation(d,e,o,t);else{var b=!1,g=!1,p=void 0!==o.count&&"string"!=typeof o.count,_=A.hasDefaultValue(o),v=p?this.pluralResolver.getSuffix(a,o.count,o):"",S=o["defaultValue".concat(v)]||o.defaultValue;!this.isValidLookup(d)&&_&&(b=!0,d=S),this.isValidLookup(d)||(g=!0,d=s);var O=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&g?void 0:d,x=_&&S!==d&&this.options.updateMissing;if(g||b||x){this.logger.log(x?"updateKey":"missingKey",a,l,s,x?S:d),r&&(h=this.resolve(s,N(N({},o),{},{keySeparator:!1})))&&h.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.");var E=[],L=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if("fallback"===this.options.saveMissingTo&&L&&L[0])for(var C=0;C<L.length;C++)E.push(L[C]);else"all"===this.options.saveMissingTo?E=this.languageUtils.toResolveHierarchy(o.lng||this.language):E.push(o.lng||this.language);var j=function(e,t,n){n=_&&n!==d?n:O;i.options.missingKeyHandler?i.options.missingKeyHandler(e,l,t,n,x,o):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,l,t,n,x,o),i.emit("missingKey",e,l,t,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&p?E.forEach(function(t){i.pluralResolver.getSuffixes(t,o).forEach(function(e){j([t],s+e,o["defaultValue".concat(e)]||S)})}):j(E,s,S))}d=this.extendTranslation(d,e,o,u,t),g&&d===s&&this.options.appendNamespaceToMissingKey&&(d="".concat(l,":").concat(s)),(g||b)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(s):s,b?d:void 0):this.options.parseMissingKeyHandler(d))}return n?(u.res=d,u):d}},{key:"extendTranslation",value:function(e,o,i,t,r){var n,a=this,s=(this.i18nFormat&&this.i18nFormat.parse?e=this.i18nFormat.parse(e,N(N({},this.options.interpolation.defaultVariables),i),t.usedLng,t.usedNS,t.usedKey,{resolved:t}):i.skipInterpolation||(i.interpolation&&this.interpolator.init(N(N({},i),{interpolation:N(N({},this.options.interpolation),i.interpolation)})),(s="string"==typeof e&&(i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i:this.options).interpolation.skipOnVariables)&&(c=(c=e.match(this.interpolator.nestingRegexp))&&c.length),n=i.replace&&"string"!=typeof i.replace?i.replace:i,this.options.interpolation.defaultVariables&&(n=N(N({},this.options.interpolation.defaultVariables),n)),e=this.interpolator.interpolate(e,n,i.lng||this.language,i),s&&c<((n=e.match(this.interpolator.nestingRegexp))&&n.length)&&(i.nest=!1),!i.lng&&"v1"!==this.options.compatibilityAPI&&t&&t.res&&(i.lng=t.usedLng),!1!==i.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r&&r[0]===t[0]&&!i.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(t[0]," in key: ").concat(o[0])),null):a.translate.apply(a,t.concat([o]))},i)),i.interpolation&&this.interpolator.reset()),i.postProcess||this.options.postProcess),c="string"==typeof s?[s]:s;return e=null!=e&&c&&c.length&&!1!==i.applyPostProcessor?re.handle(c,e,o,this.options&&this.options.postProcessPassResolved?N({i18nResolved:t},i):i,this):e}},{key:"resolve",value:function(e){var d,n,p,g,o,h=this,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(e="string"==typeof e?[e]:e).forEach(function(e){var s,c,l,u,t;h.isValidLookup(d)||(e=h.extractFromKey(e,f),s=e.key,n=s,e=e.namespaces,h.options.fallbackNS&&(e=e.concat(h.options.fallbackNS)),c=void 0!==f.count&&"string"!=typeof f.count,l=c&&!f.ordinal&&0===f.count&&h.pluralResolver.shouldUseIntlApi(),u=void 0!==f.context&&("string"==typeof f.context||"number"==typeof f.context)&&""!==f.context,t=f.lngs||h.languageUtils.toResolveHierarchy(f.lng||h.language,f.fallbackLng),e.forEach(function(a){h.isValidLookup(d)||(o=a,!le["".concat(t[0],"-").concat(a)]&&h.utils&&h.utils.hasLoadedNamespace&&!h.utils.hasLoadedNamespace(o)&&(le["".concat(t[0],"-").concat(a)]=!0,h.logger.warn('key "'.concat(n,'" for languages "').concat(t.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),t.forEach(function(e){if(!h.isValidLookup(d)){g=e;var t,n,o,i,r=[s];for(h.i18nFormat&&h.i18nFormat.addLookupKeys?h.i18nFormat.addLookupKeys(r,s,e,a,f):(c&&(t=h.pluralResolver.getSuffix(e,f.count,f)),n="".concat(h.options.pluralSeparator,"zero"),c&&(r.push(s+t),l)&&r.push(s+n),u&&(o="".concat(s).concat(h.options.contextSeparator).concat(f.context),r.push(o),c)&&(r.push(o+t),l)&&r.push(o+n));i=r.pop();)h.isValidLookup(d)||(p=i,d=h.getResource(e,a,i,f))}}))}))}),{res:d,usedKey:n,exactUsedKey:p,usedLng:g,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return(this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat:this.resourceStore).getResource(e,t,n,o)}}],[{key:"hasDefaultValue",value:function(e){var t,n="defaultValue";for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n===t.substring(0,n.length)&&void 0!==e[t])return!0;return!1}}]),A);function A(e){var t,n,o,i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return l(this,A),t=ce.call(this),y&&h.call(u(t)),n=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],o=e,i=u(t),n.forEach(function(e){o[e]&&(i[e]=o[e])}),t.options=r,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=g.create("translator"),t}function de(e){return e.charAt(0).toUpperCase()+e.slice(1)}e(ge,[{key:"getScriptPartFromCode",value:function(e){return!e||e.indexOf("-")<0||2===(e=e.split("-")).length||(e.pop(),"x"===e[e.length-1].toLowerCase())?null:this.formatLanguageCode(e.join("-"))}},{key:"getLanguagePartFromCode",value:function(e){return!e||e.indexOf("-")<0?e:(e=e.split("-"),this.formatLanguageCode(e[0]))}},{key:"formatLanguageCode",value:function(e){var t,n;return"string"==typeof e&&-1<e.indexOf("-")?(t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-"),this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),-1<t.indexOf(n[1].toLowerCase())&&(n[1]=de(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),-1<t.indexOf(n[1].toLowerCase())&&(n[1]=de(n[1].toLowerCase())),-1<t.indexOf(n[2].toLowerCase()))&&(n[2]=de(n[2].toLowerCase())),n.join("-")):this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return"languageOnly"!==this.options.load&&!this.options.nonExplicitSupportedLngs||(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||-1<this.supportedLngs.indexOf(e)}},{key:"getBestMatchFromCodes",value:function(e){var n,o=this;return e?(e.forEach(function(e){n||(e=o.formatLanguageCode(e),o.options.supportedLngs&&!o.isSupportedCode(e))||(n=e)}),!n&&this.options.supportedLngs&&e.forEach(function(e){var t;if(!n)return t=o.getLanguagePartFromCode(e),o.isSupportedCode(t)?n=t:void(n=o.options.supportedLngs.find(function(e){return e===t||!(e.indexOf("-")<0&&t.indexOf("-")<0)&&0===e.indexOf(t)?e:void 0}))}),n=n||this.getFallbackCodes(this.options.fallbackLng)[0]):null}},{key:"getFallbackCodes",value:function(e,t){return e?("string"==typeof(e="function"==typeof e?e(t):e)&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e)?e:t?e[t]||e[this.getScriptPartFromCode(t)]||e[this.formatLanguageCode(t)]||e[this.getLanguagePartFromCode(t)]||e.default||[]:e.default||[]):[]}},{key:"toResolveHierarchy",value:function(e,t){function n(e){e&&(o.isSupportedCode(e)?i.push(e):o.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))}var o=this,t=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[];return"string"==typeof e&&-1<e.indexOf("-")?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(e))):"string"==typeof e&&n(this.formatLanguageCode(e)),t.forEach(function(e){i.indexOf(e)<0&&n(o.formatLanguageCode(e))}),i}}]);var pe=ge;function ge(e){l(this,ge),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=g.create("languageUtils")}var he=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],fe={1:function(e){return Number(1<e)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5)},6:function(e){return Number(1==e?0:2<=e&&e<=4?1:2)},7:function(e){return Number(1==e?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(2<=e)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:2<e&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&(e%100<10||20<=e%100)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||1<e%100&&e%100<11?1:10<e%100&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||0<e%100&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||10<e)&&e%10==0?2:3)}},ve=["v1","v2","v3"],me={zero:0,one:1,two:2,few:3,many:4,other:5};e(be,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){e=this.getRule(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return this.shouldUseIntlApi()?e&&1<e.resolvedOptions().pluralCategories.length:e&&1<e.numbers.length}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).map(function(e){return"".concat(t).concat(e)})}},{key:"getSuffixes",value:function(t){var n=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=this.getRule(t,o);return e?this.shouldUseIntlApi()?e.resolvedOptions().pluralCategories.sort(function(e,t){return me[e]-me[t]}).map(function(e){return"".concat(n.options.prepend).concat(e)}):e.numbers.map(function(e){return n.getSuffix(t,e,o)}):[]}},{key:"getSuffix",value:function(e,t){var n=this.getRule(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});return n?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.select(t)):this.getSuffixRetroCompatible(n,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){function n(){return o.options.prepend&&i.toString()?o.options.prepend+i.toString():i.toString()}var o=this,t=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[t];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):n():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?n():this.options.prepend&&t.toString()?this.options.prepend+t.toString():t.toString()}},{key:"shouldUseIntlApi",value:function(){return!ve.includes(this.options.compatibilityJSON)}}]);var ye=be;function be(e){var n,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,be),this.languageUtils=e,this.options=t,this.logger=g.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},he.forEach(function(t){t.lngs.forEach(function(e){n[e]={numbers:t.nr,plurals:fe[t.fc]}})}),n)}function ke(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function we(e,t,n,o,i){var r,a,o=3<arguments.length&&void 0!==o?o:".",i=!(4<arguments.length&&void 0!==i)||i,s=(r=t,void 0!==(s=v(s=e,a=n))?s:v(r,a));return s=!s&&i&&"string"==typeof n&&void 0===(s=X(e,n,o))?X(t,n,o):s}e(Se,[{key:"init",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(e.interpolation||(e.interpolation={escapeValue:!0}),e.interpolation);this.escape=void 0!==e.escape?e.escape:Z,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?m(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?m(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator||e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=!this.unescapePrefix&&e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?m(e.nestingPrefix):e.nestingPrefixEscaped||m("$t("),this.nestingSuffix=e.nestingSuffix?m(e.nestingSuffix):e.nestingSuffixEscaped||m(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator||e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces||1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix),e=(this.regexp=new RegExp(e,"g"),"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),e=(this.regexpUnescape=new RegExp(e,"g"),"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix));this.nestingRegexp=new RegExp(e,"g")}},{key:"interpolate",value:function(i,r,a,s){var c,l,u,d=this,p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function t(e){return e.replace(/\$/g,"$$$$")}this.resetRegExp();var g=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=(s&&s.interpolation&&void 0!==s.interpolation.skipOnVariables?s:this.options).interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:t},{regex:this.regexp,safeValue:function(e){return d.escapeValue?t(d.escape(e)):t(e)}}].forEach(function(e){for(u=0;c=e.regex.exec(i);){var t=c[1].trim();if((o=void 0)===(l=(n=t).indexOf(d.formatSeparator)<0?(o=we(r,p,n,d.options.keySeparator,d.options.ignoreJSONStructure),d.alwaysFormat?d.format(o,void 0,a,k(k(k({},s),r),{},{interpolationkey:n})):o):(n=(o=n.split(d.formatSeparator)).shift().trim(),o=o.join(d.formatSeparator).trim(),d.format(we(r,p,n,d.options.keySeparator,d.options.ignoreJSONStructure),o,a,k(k(k({},s),r),{},{interpolationkey:n})))))if("function"==typeof g){o=g(i,c,s);l="string"==typeof o?o:""}else{if(!s||!Object.prototype.hasOwnProperty.call(s,t)){if(h){l=c[0];continue}d.logger.warn("missed to pass in variable ".concat(t," for interpolating ").concat(i))}l=""}else"string"==typeof l||d.useRawValueToEscape||(l=G(l));n=e.safeValue(l);if(i=i.replace(c[0],n),h?(e.regex.lastIndex+=l.length,e.regex.lastIndex-=c[0].length):e.regex.lastIndex=0,++u>=d.maxReplaces)break}var n,o}),i}},{key:"nest",value:function(e,t){var n,o=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};function r(t,e){var n=this.nestingOptionsSeparator;if(!(t.indexOf(n)<0)){var o=t.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(o[1]),o=(t=o[0],(i=this.interpolate(i,a)).match(/'/g)),r=i.match(/"/g);(o&&o.length%2==0&&!r||r.length%2!=0)&&(i=i.replace(/'/g,'"'));try{a=JSON.parse(i),e&&(a=k(k({},e),a))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(i)}delete a.defaultValue}return t}for(;n=this.nestingRegexp.exec(e);){var a,s,c=[],l=((a=(a=k({},i)).replace&&"string"!=typeof a.replace?a.replace:a).applyPostProcessor=!1,delete a.defaultValue,!1);if(-1===n[0].indexOf(this.formatSeparator)||/{.*}/.test(n[1])||(s=n[1].split(this.formatSeparator).map(function(e){return e.trim()}),n[1]=s.shift(),c=s,l=!0),(s=t(r.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof s)return s;(s="string"!=typeof s?G(s):s)||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),s=""),l&&(s=c.reduce(function(e,t){return o.format(e,t,i.lng,k(k({},i),{},{interpolationkey:n[1].trim()}))},s.trim())),e=e.replace(n[0],s),this.regexp.lastIndex=0}return e}}]);var _e=Se;function Se(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,Se),this.logger=g.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.init(e)}function Oe(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _(r){var a={};return function(e,t,n){var o=t+JSON.stringify(n),i=a[o];return i||(i=r(t,n),a[o]=i),i(e)}}e(Ee,[{key:"init",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator||t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=_(t)}},{key:"format",value:function(e,t,s){var c=this,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce(function(e,t){o=(t=t).toLowerCase().trim(),n={},-1<t.indexOf("(")&&(o=(t=t.split("("))[0].toLowerCase().trim(),t=t[1].substring(0,t[1].length-1),"currency"===o&&t.indexOf(":")<0?n.currency||(n.currency=t.trim()):"relativetime"===o&&t.indexOf(":")<0?n.range||(n.range=t.trim()):t.split(";").forEach(function(e){var t;e&&(t=(e=V(e.split(":")))[0],e=e.slice(1).join(":").trim().replace(/^'+|'+$/g,""),n[t.trim()]||(n[t.trim()]=e),"false"===e&&(n[t.trim()]=!1),"true"===e&&(n[t.trim()]=!0),isNaN(e)||(n[t.trim()]=parseInt(e,10)))}));var n,t={formatName:o,formatOptions:n},o=t.formatName,t=t.formatOptions;if(c.formats[o]){var i=e;try{var r=l&&l.formatParams&&l.formatParams[l.interpolationkey]||{},a=r.locale||r.lng||l.locale||l.lng||s,i=c.formats[o](e,a,w(w(w({},t),l),r))}catch(e){c.logger.warn(e)}return i}return c.logger.warn("there was no format function for ".concat(o)),e},e)}}]);var xe=Ee;function Ee(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,Ee),this.logger=g.create("formatter"),this.options=e,this.formats={number:_(function(e,t){var n=new Intl.NumberFormat(e,w({},t));return function(e){return n.format(e)}}),currency:_(function(e,t){var n=new Intl.NumberFormat(e,w(w({},t),{},{style:"currency"}));return function(e){return n.format(e)}}),datetime:_(function(e,t){var n=new Intl.DateTimeFormat(e,w({},t));return function(e){return n.format(e)}}),relativetime:_(function(e,t){var n=new Intl.RelativeTimeFormat(e,w({},t));return function(e){return n.format(e,t.range||"day")}}),list:_(function(e,t){var n=new Intl.ListFormat(e,w({},t));return function(e){return n.format(e)}})},this.init(e)}function Le(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function Ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function je(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p(n);return d(this,o?(e=p(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}t(S,h),Pe=je(S),e(S,[{key:"queueLoad",value:function(e,t,i,n){var r=this,a={},s={},c={},l={};return e.forEach(function(n){var o=!0;t.forEach(function(e){var t="".concat(n,"|").concat(e);!i.reload&&r.store.hasResourceBundle(n,e)?r.state[t]=2:r.state[t]<0||(1===r.state[t]?void 0===s[t]&&(s[t]=!0):(r.state[t]=1,o=!1,void 0===s[t]&&(s[t]=!0),void 0===a[t]&&(a[t]=!0),void 0===l[e]&&(l[e]=!0)))}),o||(c[n]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(r,a,e){var t=r.split("|"),s=t[0],c=t[1],l=(a&&this.emit("failedLoading",s,c,a),e&&this.store.addResourceBundle(s,c,e),this.state[r]=a?-1:2,{});this.queue.forEach(function(n){var e,t,o,i;e=n.loaded,t=c,o=(e=J(e,o=[s],Object)).obj,e=e.k,o[e]=o[e]||[],i&&(o[e]=o[e].concat(t)),i||o[e].push(t),i=r,void 0!==(o=n).pending[i]&&(delete o.pending[i],o.pendingCount--),a&&n.errors.push(a),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(function(t){l[t]||(l[t]={});var e=n.loaded[t];e.length&&e.forEach(function(e){void 0===l[t][e]&&(l[t][e]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(function(e){return!e.done})}},{key:"read",value:function(o,i,r){var a=this,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,l=5<arguments.length?arguments[5]:void 0;if(!o.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:o,ns:i,fcName:r,tried:s,wait:c,callback:l});else{this.readingCalls++;var t=function(e,t){var n;a.readingCalls--,0<a.waitingReads.length&&(n=a.waitingReads.shift(),a.read(n.lng,n.ns,n.fcName,n.tried,n.wait,n.callback)),e&&t&&s<a.maxRetries?setTimeout(function(){a.read.call(a,o,i,r,s+1,2*c,l)},c):l(e,t)},e=this.backend[r].bind(this.backend);if(2!==e.length)return e(o,i,t);try{var n=e(o,i);n&&"function"==typeof n.then?n.then(function(e){return t(null,e)}).catch(t):t(null,n)}catch(e){t(e)}}}},{key:"prepareLoading",value:function(e,t){var n=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e));e=this.queueLoad(e,t="string"==typeof t?[t]:t,o,i);if(!e.toLoad.length)return e.pending.length||i(),null;e.toLoad.forEach(function(e){n.loadOne(e)})}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(n){var o=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=n.split("|"),r=e[0],a=e[1];this.read(r,a,"read",void 0,void 0,function(e,t){e&&o.logger.warn("".concat(i,"loading namespace ").concat(a," for language ").concat(r," failed"),e),!e&&t&&o.logger.log("".concat(i,"loaded namespace ").concat(a," for language ").concat(r),t),o.loaded(n,e,t)})}},{key:"saveMissing",value:function(e,t,n,o,i){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){r=Ce(Ce({},r),{},{isUpdate:i}),i=this.backend.create.bind(this.backend);if(i.length<6)try{var s=5===i.length?i(e,t,n,o,r):i(e,t,n,o);s&&"function"==typeof s.then?s.then(function(e){return a(null,e)}).catch(a):a(null,s)}catch(e){a(e)}else i(e,t,n,o,a,r)}e&&e[0]&&this.store.addResource(e[0],t,n,o)}}}]);var Pe,Ne=S;function S(e,t,n){var o,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return l(this,S),o=Pe.call(this),y&&h.call(u(o)),o.backend=e,o.store=t,o.services=n,o.languageUtils=n.languageUtils,o.options=i,o.logger=g.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=i.maxParallelReads||10,o.readingCalls=0,o.maxRetries=0<=i.maxRetries?i.maxRetries:5,o.retryTimeout=1<=i.retryTimeout?i.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,i.backend,i),o}function Ae(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t,n={};return"object"===P(e[1])&&(n=e[1]),"string"==typeof e[1]&&(n.defaultValue=e[1]),"string"==typeof e[2]&&(n.tDescription=e[2]),"object"!==P(e[2])&&"object"!==P(e[3])||(t=e[3]||e[2],Object.keys(t).forEach(function(e){n[e]=t[e]})),n},interpolation:{escapeValue:!0,format:function(e,t,n,o){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Ie(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Re(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Te(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p(n);return d(this,o?(e=p(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function De(){}t(x,h),$e=Te(x),e(x,[{key:"init",value:function(){var e,t,i=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length?arguments[1]:void 0,r=("function"==typeof n&&(o=n,n={}),!n.defaultNS&&!1!==n.defaultNS&&n.ns&&("string"==typeof n.ns?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0])),Ae());function a(e){return e?"function"==typeof e?new e:e:null}this.options=O(O(O({},r),this.options),Ie(n)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=O(O({},r.interpolation),this.options.interpolation)),void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator),this.options.isClone||(this.modules.logger?g.init(a(this.modules.logger),this.options):g.init(null,this.options),this.modules.formatter?e=this.modules.formatter:"undefined"!=typeof Intl&&(e=xe),n=new pe(this.options),this.store=new ie(this.options.resources,this.options),(t=this.services).logger=g,t.resourceStore=this.store,t.languageUtils=n,t.pluralResolver=new ye(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!e||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(t.formatter=a(e),t.formatter.init(t,this.options),this.options.interpolation.format=t.formatter.format.bind(t.formatter)),t.interpolator=new _e(this.options),t.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},t.backendConnector=new Ne(a(this.modules.backend),t.resourceStore,t,this.options),t.backendConnector.on("*",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];i.emit.apply(i,[e].concat(n))}),this.modules.languageDetector&&(t.languageDetector=a(this.modules.languageDetector),t.languageDetector.init)&&t.languageDetector.init(t,this.options.detection,this.options),this.modules.i18nFormat&&(t.i18nFormat=a(this.modules.i18nFormat),t.i18nFormat.init)&&t.i18nFormat.init(this),this.translator=new ue(this.services,this.options),this.translator.on("*",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];i.emit.apply(i,[e].concat(n))}),this.modules.external.forEach(function(e){e.init&&e.init(i)})),this.format=this.options.interpolation.format,o=o||De,!this.options.fallbackLng||this.services.languageDetector||this.options.lng||0<(n=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng)).length&&"dev"!==n[0]&&(this.options.lng=n[0]),this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(t){i[t]=function(){var e;return(e=i.store)[t].apply(e,arguments)}});function s(){function e(e,t){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),c.resolve(t),o(e,t)}if(i.languages&&"v1"!==i.options.compatibilityAPI&&!i.isInitialized)return e(null,i.t.bind(i));i.changeLanguage(i.options.lng,e)}["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(t){i[t]=function(){var e;return(e=i.store)[t].apply(e,arguments),i}});var c=f();return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),c}},{key:"loadResources",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:De,o="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&"cimode"===o.toLowerCase())return n();var i=[],e=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(e){i.indexOf(e)<0&&i.push(e)})};o?e(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e),this.options.preload&&this.options.preload.forEach(e),this.services.backendConnector.load(i,this.options.ns,function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)})}else n(null)}},{key:"reloadResources",value:function(e,t,n){var o=f();return e=e||this.languages,t=t||this.options.ns,n=n||De,this.services.backendConnector.reload(e,t,function(e){o.resolve(),n(e)}),o}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(e.type)return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&re.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this;throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()")}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(-1<["cimode","dev"].indexOf(e)))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(-1<["cimode","dev"].indexOf(n))&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(n,o){function e(e){var t="string"==typeof(e=n||e||!i.services.languageDetector?e:[])?e:i.services.languageUtils.getBestMatchFromCodes(e);t&&(i.language||a(t),i.translator.language||i.translator.changeLanguage(t),i.services.languageDetector)&&i.services.languageDetector.cacheUserLanguage&&i.services.languageDetector.cacheUserLanguage(t),i.loadResources(t,function(e){s(e,t)})}var i=this,r=(this.isLanguageChangingTo=n,f()),a=(this.emit("languageChanging",n),function(e){i.language=e,i.languages=i.services.languageUtils.toResolveHierarchy(e),i.resolvedLanguage=void 0,i.setResolvedLanguage(e)}),s=function(e,t){t?(a(t),i.translator.changeLanguage(t),i.isLanguageChangingTo=void 0,i.emit("languageChanged",t),i.logger.log("languageChanged",t)):i.isLanguageChangingTo=void 0,r.resolve(function(){return i.t.apply(i,arguments)}),o&&o(e,function(){return i.t.apply(i,arguments)})};return n||!this.services.languageDetector||this.services.languageDetector.async?!n&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(e):this.services.languageDetector.detect(e):e(n):e(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,s){function c(e,t){var n;if("object"!==P(t)){for(var o=arguments.length,i=new Array(2<o?o-2:0),r=2;r<o;r++)i[r-2]=arguments[r];n=l.options.overloadTranslationOptionHandler([e,t].concat(i))}else n=O({},t);n.lng=n.lng||c.lng,n.lngs=n.lngs||c.lngs,n.ns=n.ns||c.ns,n.keyPrefix=n.keyPrefix||s||c.keyPrefix;var a=l.options.keySeparator||".",t=n.keyPrefix&&Array.isArray(e)?e.map(function(e){return"".concat(n.keyPrefix).concat(a).concat(e)}):n.keyPrefix?"".concat(n.keyPrefix).concat(a).concat(e):e;return l.t(t,n)}var l=this;return"string"==typeof e?c.lng=e:c.lngs=e,c.ns=t,c.keyPrefix=s,c}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===o.toLowerCase())return!0;function a(e,t){return-1===(e=n.services.backendConnector.state["".concat(e,"|").concat(t)])||2===e}if(t.precheck){t=t.precheck(this,a);if(void 0!==t)return t}return!!this.hasResourceBundle(o,e)||!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!a(o,e)||i&&!a(r,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,o=f();return this.options.ns?((e="string"==typeof e?[e]:e).forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(function(e){o.resolve(),t&&t(e)}),o):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=f(),o=this.options.preload||[],e=(e="string"==typeof e?[e]:e).filter(function(e){return o.indexOf(e)<0});return e.length?(this.options.preload=o.concat(e),this.loadResources(function(e){n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){var t;return!(e=e||this.resolvedLanguage||(this.languages&&0<this.languages.length?this.languages[0]:this.language))||(t=this.services&&this.services.languageUtils||new pe(Ae()),-1<["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e)))||1<e.toLowerCase().indexOf("-arab")?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:De,o=O(O(O({},this.options),e),{isClone:!0}),i=new x(o);void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e));return["store","services","language"].forEach(function(e){i[e]=t[e]}),i.services=O({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new ue(i.services,i.options),i.translator.on("*",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];i.emit.apply(i,[e].concat(n))}),i.init(o,n),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]);var $e,Fe=x;function x(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length?arguments[1]:void 0;if(l(this,x),e=$e.call(this),y&&h.call(u(e)),e.options=Ie(n),e.services={},e.logger=g,e.modules={external:[]},t=u(e),Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))}),o&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,o),d(e,u(e));setTimeout(function(){e.init(n,o)},0)}return e}o(Fe,"createInstance",function(){return new Fe(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length?arguments[1]:void 0)});var E=Fe.createInstance();E.createInstance=Fe.createInstance,E.createInstance,E.dir,E.init,E.loadResources,E.reloadResources,E.use,E.changeLanguage,E.getFixedT,E.t,E.exists,E.setDefaultNamespace,E.hasLoadedNamespace,E.loadNamespaces,E.loadLanguages;let Ue;const Me=new Uint8Array(16);const L=[];for(let e=0;e<256;++e)L.push((e+256).toString(16).slice(1));var Be={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Ve(e,t,n){if(Be.randomUUID&&!t&&!e)return Be.randomUUID();var o,i=(e=e||{}).random||(e.rng||function(){if(Ue=Ue||"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto))return Ue(Me);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return e=i,o=0,(L[e[o+0]]+L[e[o+1]]+L[e[o+2]]+L[e[o+3]]+"-"+L[e[o+4]]+L[e[o+5]]+"-"+L[e[o+6]]+L[e[o+7]]+"-"+L[e[o+8]]+L[e[o+9]]+"-"+L[e[o+10]]+L[e[o+11]]+L[e[o+12]]+L[e[o+13]]+L[e[o+14]]+L[e[o+15]]).toLowerCase()}var C,j,I={poweredBy:"Un produit ",hey:"Hey",back:"Retour",valid:"J’accepte",validAll:"J’accepte tout",choose:"Je sélectionne",cancel:"Annuler",saveSelection:"Valider mes préférences",enabled:"Activer",disabled:"Désactiver",disagreeAll:"Pas d'accord",refused:"Refuser",knowMore:"En savoir plus",acceptClose:"Accepter & Fermer",acceptAll:"Accepter tout",disagree:"Je refuse",agree:"J’autorise",getMore:"En savoir plus +",getLess:"En savoir moins -",moreInformations:"Plus d'informations",continueClose:"Continuer sans accepter",lessInformations:"Moins d'informations",box:{title:"Hey",description:"Pour vous éviter de louper une expérience optimale sur ce site, nous utilisons des cookies. Est-ce ok pour vous ?",choice:"Vous pouvez accepter ces cookies en cliquant sur &quot;Accepter et fermer&quot; ou cliquer sur &quot;En savoir plus&quot; pour gérer vos préférences.",getCookieList:"Voir la liste des cookies utilisés sur notre site",updateChoice:"À tout moment, vous pouvez modifier vos préférences en vous rendant dans le lien Cookies en bas de page du site."},detail:{title:"Ma préférence à moi",description:""},form:{mandatory:"Nécessaire pour ce formulaire",optional:"Optionnel",moreInfo:"Plus d’informations",lessInfo:"Masquer les informations",yourChoice:"Votre choix"},save:{title:"Préferences prises en compte"},category:{necessary:{title:"Nécessaires",text:"Les cookies nécessaires contribuent à rendre un site web utilisable en activant des fonctions de base comme la navigation de page et l'accès aux zones sécurisées du site web. Le site web ne peut pas fonctionner correctement sans ces cookies."},preference:{title:"Préférences",text:"Les cookies de préférences permettent à un site web de retenir des informations qui modifient la manière dont le site se comporte ou s’affiche, comme votre langue préférée ou la région dans laquelle vous vous situez."},stats:{title:"Statistiques",text:"Les cookies statistiques aident les propriétaires du site web, par la collecte et la communication d'informations de manière anonyme, à comprendre comment les visiteurs interagissent avec les sites web."},marketing:{title:"Marketing",text:"Les cookies marketing sont utilisés pour effectuer le suivi des visiteurs au travers des sites web. Le but est d'afficher des publicités qui sont pertinentes et intéressantes pour l'utilisateur individuel et donc plus précieuses pour les éditeurs et annonceurs tiers."},advertising:{title:"Publicitaires",text:"Les cookies publicitaires permettent la mise en avant de contenus ciblés et de mesurer l'efficacité des publicités proposées."},others:{title:"Divers",text:"Les cookies non classés sont les cookies qui sont en cours de classification, ainsi que les fournisseurs de cookies individuels."}}};const ze={resources:{fr:{translation:I},en:{translation:{poweredBy:"Powered By",back:"Back",hey:"Hey",valid:"I accept",validAll:"I authorize",choose:"I select",cancel:"Cancel",saveSelection:"Save Selection",enabled:"Enable",disabled:"Disable",disagree:"I refuse",refused:"Refuse",knowMore:"Learn more",acceptClose:"Accept & Close",acceptAll:"Accept everything",disagreeAll:"I refuse",agree:"I authorize",getMore:"Learn more +",getLess:"Learn less -",moreInformations:"Learn more",lessInformations:"Learn less",continueClose:"Continue without accepting",box:{title:"Hey",description:"To prevent you from missing the best experience on this site, we use cookies. Is this ok for you?",choice:"You can accept these cookies by clicking 'Accept and close' or clicking 'Learn more' to manage your preferences.",getCookieList:"See the list of cookies used on our site",updateChoice:"At any time, you can change your preferences by going to the Cookies link at the bottom of the site."},detail:{title:"My personal preference",description:"Leverage agile frameworks to provide a robust synopsis for high level overviews. Iterative approaches to corporate strategy foster collaborative thinking to further the overall value proposition."},form:{mandatory:"Required for this form",optional:"Optional",moreInfo:"More Info",lessInfo:"Hide Info",yourChoice:"Your choice"},save:{title:"Preferences taken into account"},category:{necessary:{title:"Necessary",text:"Necessary cookies help make a website usable by enabling basic functions such as page navigation and access to secure areas of the website. The website cannot function properly without these cookies."},preference:{title:"Preferences",text:"Preference cookies allow a website to remember information that changes the way the site behaves or displays, such as your preferred language or the region in which you are located."},stats:{title:"Statistics",text:"Statistical cookies help website owners, by collecting and reporting information anonymously, to understand how visitors interact with websites."},marketing:{title:"Marketing",text:"Marketing cookies are used to track visitors across websites. The purpose is to display advertisements that are relevant and interesting to the individual user and therefore more valuable to publishers and third party advertisers ."},advertising:{title:"Advertising",text:"Advertising cookies allow targeted content to be highlighted and the effectiveness of the advertisements offered to be measured."},others:{title:"Miscellaneous",text:"Unclassified cookies are cookies that are being classified, as well as individual cookie providers."}}}},nl:{translation:{poweredBy:"Aangedreven door",hey:"Hoi",back:"Terug",valid:"Ik accepteer",validAll:"Ik accepteer alles",choose:"Ik selecteer",cancel:"Annuleren",saveSelection:"Mijn keuzes bevestigen",enabled:"Inschakelen",disabled:"Uitschakelen",disagreeAll:"Niet akkoord",refused:"Weigeren",knowMore:"Meer informatie",acceptClose:"Accepteren en sluiten",acceptAll:"Alles toestaan",disagree:"Afwijzen",agree:"Activeren",getMore:"Meer informatie",getLess:"Leer minder -",moreInformations:"Meer informatie +",continueClose:"Ga door zonder te accepteren",lessInformations:"Minder informatie",box:{title:"Hoy",description:"Om te voorkomen dat u een optimale ervaring op deze site mist, gebruiken wij cookies. Vindt u dit oké?",choice:"U kunt deze cookies accepteren door op 'Accepteren en sluiten' te klikken of op 'Meer informatie' te klikken om uw voorkeuren te beheren.",getCookieList:"Bekijk de lijst met cookies die op onze site worden gebruikt",updateChoice:"U kunt uw voorkeuren op elk moment wijzigen door naar de link Cookies onderaan de site te gaan."},detail:{title:"Mijn voorkeur",Beschrijving:""},form:{mandatory:"Vereist voor dit formulier",optional:"Optioneel",moreInfo:"Meer informatie",lessInfo:"Informatie verbergen",yourChoice:"Uw keuze"},redden:{title:"Er wordt rekening gehouden met voorkeuren"},categorie:{necessary:{title:"Noodzakelijk",text:"Noodzakelijke cookies helpen een website bruikbaar te maken door basisfuncties zoals paginanavigatie en toegang tot beveiligde delen van de website mogelijk te maken. Zonder deze cookies kan de website niet goed functioneren."},preference:{title:"Voorkeuren",text:"Voorkeurscookies zorgen ervoor dat een website informatie kan onthouden die de manier verandert waarop de site zich gedraagt ​​of verschijnt, zoals uw voorkeurstaal of de regio waarin u zich bevindt."},stats:{title:"Statistieken",text:"Statistische cookies helpen website-eigenaren, door anoniem informatie te verzamelen en te rapporteren, om te begrijpen hoe bezoekers omgaan met websites."},marketing:{title:"Marketing",text:"Marketingcookies worden gebruikt om bezoekers over websites heen te volgen. Het doel is om advertenties weer te geven die relevant en interessant zijn voor de individuele gebruiker en daardoor waardevoller voor externe uitgevers en adverteerders."},advertising:{title:"Adverteerders",text:"Advertentiecookies maken het promoten van gerichte inhoud mogelijk en meten de effectiviteit van de aangeboden advertenties."},others:{title:"Diversen",text:"Niet-geclassificeerde cookies zijn cookies die momenteel worden geclassificeerd, evenals individuele cookie-aanbieders."}}}},be:{translation:I}}},He=(o,i)=>new Promise((t,n)=>{var e=new FormData;e.append("token",o),e.append("type",i),fetch(c.API_URL+"/api/hit",{method:"POST",body:e}).then(e=>e.json()).then(e=>{("OK"===(null==e?void 0:e.status)?t:n)(e)}).catch(()=>{n()})}),qe=((I=C=C||{}).CN_SHOW="CN_SHOW",I.CN_ACCEPT="CN_ACCEPT",I.CN_PARTIAL_ACCEPT="CN_PARTIAL_ACCEPT",I.CN_DECLINE="CN_DECLINE",i.TemplateEnum=void 0,(I=i.TemplateEnum||(i.TemplateEnum={})).DEFAULT="default",I.FULLPAGE="fullpage",I.CUSTOM="custom",{id:"default",template:i.TemplateEnum.DEFAULT,hasSuccess:!0,timeout:5e3,fullpage:!1}),R='<svg xmlns="http://www.w3.org/2000/svg" width="22.628" height="9.352" viewBox="0 0 22.628 9.352">\n  <path id="Union_1" data-name="Union 1" d="M-1983.61-42.546l2.334-.136v.645l.19.462-.389,4.68-2.461.034Zm-4.36,5.138-.325-4.406-1.1.278-.6-.5.17-.5-.17-1.418,5.067.034.263-.183.622.288-.42,2.321-1.488-.083.326,4.683Zm15.539.381V-38.8l-1.469-1.479-.388-.324v-3.269l2.613.186-.136,2.39.644,1.1.49-.688-.258-2.936,2.448.093-.206,3.276-1.34,1.486.214,1.461-.5.478Zm-7.986-.9-.352-1.4,2.3-2.3-1.586.183-.408-.589.181-.264-.136-1.585,5.463.128.065,2.026-2.353,2.56,1.968-.122.385.731-.476,1.26-5.051.267Zm-2.688-5.3-.454-.91.859-.806.635.008.2.211.114-.091.037-.105.156-.079.529.556-.179.127-.155.027-.054.027.174.179-.394.918Z" transform="translate(1990.584 45.615)" fill="#c3b2c4" stroke="rgba(0,0,0,0)" stroke-miterlimit="10" stroke-width="1"/>\n</svg>\n',Ke=e=>`
        <li class="cookie">
            ${null!=e&&e.description?`
                <label class="cookie__label">
                    <input type="checkbox" class="cookie__checkbox"/>
                    <div class="cookie__name">
                        <a class="cookie__name__text" href="${e.link||"#"}" target="${e.link?"_blank":"_self"}">${e.name}</a>
                        <p class="cookie__more cookie__toggle">${E.t("moreInformations")}</p>
                        <p class="cookie__less cookie__toggle">${E.t("lessInformations")}</p>
                    </div>
                    <input type="checkbox" class="cookie__checkbox"/>
                    ${null!=e&&e.purpose?`<p class="cookie__purpose">${e.purpose}</p>`:""}
                    <p class="cookie__desc">${e.description}</p>
                </label>
            `:`
                <a class="cookie__name__text" href="${e.link||"#"}" target="${e.link?"_blank":"_self"}">${e.name}</a>
                ${null!=e&&e.purpose?`<p class="cookie__purpose">${e.purpose}</p>`:""}
            `}
        </li>
    `,Ge=(e,t,o,n)=>`
        <div class="hagreed_details">
            <div class="hagreed__container">
                ${`
                    <div class="hagreed__head">
                        <a class="hagreed__copyright" target="_blank" href="https://www.hagreed.com/">${E.t("poweredBy")} ${R} !</a>
                    </div>
                `}
                <p class="hagreed__title">${t.title||""}</p>
                <p class="hagreed__text">${t.text||""}</p>
                
                <form id="cookieForm" class="hagreed__form">
                    <ul class="categories categories_detail">
                        ${e.map(e=>{return`<li class="categories__item">${e=e,t=o,`
        <div class="category">
            <p class="category__title">${E.t(e.name)}</p>
            <p class="category__text">${E.t(e.description||"")}</p>
            <ul class="category__cookies">
                ${null==(n=null==(n=e.cookies)?void 0:n.sort((e,t)=>t.description?1:-1))?void 0:n.map(e=>`
                    ${t?Ke(e):`
                        <li class="category__cookies__item">
                            <a href="${e.link||"#"}" target="${e.link?"_blank":"_self"}">${e.name}</a>
                        </li>
                    `}                        
                `).join("")}
            </ul>
             ${e.is_checked?"":`
                <div class="category__choice">
                    <label class="cookie-switch">
                        <input  type="checkbox" 
                                class="cookie-switch__input"
                                value="${e.id}"
                                id="cookie_category_${e.id}"
                                ${e.is_checked?'onclick="return false;"':""}
                                ${e.is_checked?"checked":""}
                                name="categorySelection">
                            <span class="cookie-switch__element">${E.t("disabled")}</span>
                            <span class="cookie-switch__element">${E.t("enabled")}</span>
                            <span class="cookie-switch__bar"></span>
                            <span class="cookie-switch__border"></span>
                    </label>
                </div>
             `}
        </div>
    `}</li>`;var t,n}).join("")}
                    </ul>
                </form>
            </div>
            <div class="hagreed__buttons">
                <div class="refused">
                    <button class="info__btn hagreed-validate" data-type="${r.LESS_INFO}">
                        ${E.t("back")}
                    </button>
                </div>
                <div class="info hightlight" id="hagreedValidAll">
                    <button class="info__btn hagreed-validate" data-type="${r.ACCEPT_ALL}">
                        ${E.t("validAll")}
                    </button>
                </div>
                <div class="accept" id="hagreedValidSelection">
                    <button class="accept__btn hagreed-validate" data-type="${r.ACCEPT_SELECTION}">${E.t("saveSelection")}</button>
                </div>
            </div>
        </div>
    `,Je=((I=j=j||{}).GRANTED="granted",I.DENIED="denied",e=>{let t=T(j.DENIED);return e.includes(i.CategoryEnum.ADVERTISING)&&(t=Object.assign(Object.assign({},t),{ad_personalization:j.GRANTED,ad_user_data:j.GRANTED,ad_storage:j.GRANTED})),t=e.includes(i.CategoryEnum.STATISTIQUES)?Object.assign(Object.assign({},t),{analytics_storage:j.GRANTED}):t}),T=e=>({ad_personalization:e,ad_user_data:e,ad_storage:e,analytics_storage:e}),Ye=(e,t,n)=>`
        <div class="hagreed_details">
            ${n?`
                 <a class="hagreed__copyright hagreed__copyright_right" target="_blank" href="https://www.hagreed.com/">${E.t("poweredBy")} ${R} !</a>
            `:""}
            <div class="hagreed__container">
                <p class="hagreed__title">${t.title||""}</p>
                <p class="hagreed__text">${t.text||""}</p>
                
                <form id="cookieForm" class="hagreed__form">
                    <ul class="categories categories_detail">
                        ${e.map(e=>{return`<li class="categories__item">${e=e,`
        <div class="category">
            <p class="category__title">${E.t(e.name)}</p>
            <p class="category__text">${E.t(e.description||"")}</p>
             ${e.is_checked?"":`
                <div class="category__choice">
                    <label class="cookie-switch">
                        <input  type="checkbox" 
                                class="cookie-switch__input"
                                value="${e.id}"
                                id="cookie_category_${e.id}"
                                ${e.is_checked?'onclick="return false;"':""}
                                ${e.is_checked?"checked":""}
                                name="categorySelection">
                            <span class="cookie-switch__element">${E.t("disabled")}</span>
                            <span class="cookie-switch__element">${E.t("enabled")}</span>
                            <span class="cookie-switch__bar"></span>
                            <span class="cookie-switch__border"></span>
                    </label>
                </div>
             `}
        </div>
    `}</li>`}).join("")}
                    </ul>
                </form>
            </div>
            <div class="hagreed__buttons">
                <div class="hagreed__buttons__item" id="hagreedValidSelection">
                    <button class="hagreed__buttons__btn hagreed-validate" data-type="${r.ACCEPT_SELECTION}">${E.t("saveSelection")}</button>
                </div>
                <div class="hagreed__buttons__item hightlight" id="hagreedValidAll">
                    <button class="hagreed__buttons__btn accept hagreed-validate" data-type="${r.ACCEPT_ALL}">
                        ${E.t("acceptAll")}
                    </button>
                </div>
                <div class="hagreed__buttons__item">
                    <button class="hagreed__buttons__btn hagreed-validate" data-type="${r.LESS_INFO}">
                        ${E.t("back")}
                    </button>
                </div>
            </div>
        </div>
    `,We={id:"fullpage",template:i.TemplateEnum.FULLPAGE,hasSuccess:!1,timeout:0,fullpage:!0};var I=[],Ze=I.forEach,Qe=I.slice;function Xe(){if(null===at)try{at="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){at=!1}return at}function et(){if(null===ct)try{ct="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){ct=!1}return ct}var tt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,nt=function(e,t,n,o){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),o&&(i.domain=o),document.cookie=function(e,t,n){var n=n||{},t=(n.path=n.path||"/",encodeURIComponent(t)),o="".concat(e,"=").concat(t);if(0<n.maxAge){e=+n.maxAge;if(Number.isNaN(e))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(e))}if(n.domain){if(!tt.test(n.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(n.domain)}if(n.path){if(!tt.test(n.path))throw new TypeError("option path is invalid");o+="; Path=".concat(n.path)}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires=".concat(n.expires.toUTCString())}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}(e,encodeURIComponent(t),i)},ot=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},it={name:"cookie",lookup:function(e){var t;return t=e.lookupCookie&&"undefined"!=typeof document&&(e=ot(e.lookupCookie))?e:t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&nt(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},rt={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search,o=(n=!window.location.search&&window.location.hash&&-1<window.location.hash.indexOf("?")?window.location.hash.substring(window.location.hash.indexOf("?")):n).substring(1).split("&"),i=0;i<o.length;i++){var r=o[i].indexOf("=");0<r&&o[i].substring(0,r)===e.lookupQuerystring&&(t=o[i].substring(r+1))}return t}},at=null,st={name:"localStorage",lookup:function(e){var t;return t=e.lookupLocalStorage&&Xe()&&(e=window.localStorage.getItem(e.lookupLocalStorage))?e:t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&Xe()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},ct=null,lt={name:"sessionStorage",lookup:function(e){var t;return t=e.lookupSessionStorage&&et()&&(e=window.sessionStorage.getItem(e.lookupSessionStorage))?e:t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&et()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},ut={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return 0<t.length?t:void 0}},dt={name:"htmlTag",lookup:function(e){var t,e=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return t=e&&"function"==typeof e.getAttribute?e.getAttribute("lang"):t}},pt={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},gt={name:"subdomain",lookup:function(e){var e="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,t="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(t)return t[e]}};var ht=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return e(n,[{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=function(n){return Ze.call(Qe.call(arguments,1),function(e){if(e)for(var t in e)void 0===n[t]&&(n[t]=e[t])}),n}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}),"string"==typeof this.options.convertDetectedLanguage&&-1<this.options.convertDetectedLanguage.indexOf("15897")&&(this.options.convertDetectedLanguage=function(e){return e.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(it),this.addDetector(rt),this.addDetector(st),this.addDetector(lt),this.addDetector(ut),this.addDetector(dt),this.addDetector(pt),this.addDetector(gt)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this,n=(e=e||this.options.order,[]);return e.forEach(function(e){t.detectors[e]&&(e=(e=t.detectors[e].lookup(t.options))&&"string"==typeof e?[e]:e)&&(n=n.concat(e))}),n=n.map(function(e){return t.options.convertDetectedLanguage(e)}),this.services.languageUtils.getBestMatchFromCodes?n:0<n.length?n[0]:null}},{key:"cacheUserLanguage",value:function(t,e){var n=this;!(e=e||this.options.caches)||this.options.excludeCacheFor&&-1<this.options.excludeCacheFor.indexOf(t)||e.forEach(function(e){n.detectors[e]&&n.detectors[e].cacheUserLanguage(t,n.options)})}}]),n}();ht.type="languageDetector";const ft="hagreedId",vt="hagreedCookies",mt="hagreedSecurity";"undefined"!=typeof window&&(window.gtag=function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(arguments)});i.HAGREED_EVENT=mt,i.HAGREED_ID=ft,i.HAGREED_NAME=vt,i.default=class{constructor(e,t){this.element="hagreed",this.hagreedContent={},this.cookiesList=[],this.consentsFormList=[],this.timeout=0,this.apiToken="",this.uuid="",this.template=i.TemplateEnum.DEFAULT,this.useGoogleConsents=!0,this.tizyBrand=!1,this.accessEnabled=!1,this.templateConfig=qe,this.consentsList=[],this.apiToken=e,this.initTranslation(t),this.boxContent={banner:{title:E.t("box.title")+" ! 👋😺",text:E.t("box.description")||""},detail:{title:E.t("detail.title")+" 😊",text:E.t("detail.description")||""}},this.manageUuid(),this.checkSecurity(),document.addEventListener(mt,()=>{this.initForm()})}initTranslation(e){E.use(ht).init(Object.assign(Object.assign(Object.assign({},ze),{fallbackLng:(null==e?void 0:e.lang)||"fr"}),(null==e?void 0:e.forceLang)&&{lng:null==e?void 0:e.lang}))}checkSecurity(){var o;o=this.apiToken,new Promise((t,e)=>{var n=new FormData;n.append("token",o),n.append("package_type",c.TYPE),fetch(c.API_URL+"/api/check-license",{method:"POST",body:n}).then(e=>e.json()).then(e=>{t(e)}).catch(()=>{e(new Error)})}).then(e=>{if("OK"===(null==e?void 0:e.status)){this.accessEnabled=!0;var t=(null==(t=null==e?void 0:e.response)?void 0:t.package_type)||void 0;if(t!==c.TYPE)return console.error("Hagreed - "+((null==e?void 0:e.message)||"Les packages ne correspondent pas")),void(this.accessEnabled=!1);"free_sdk_node"===t&&(this.template=i.TemplateEnum.DEFAULT),this.boxContent=Object.assign(Object.assign({},this.boxContent),this.hagreedContent),this.templateConfig=this.getTemplate();const n=new CustomEvent(mt);void("complete"===document.readyState?document.dispatchEvent(n):addEventListener("load",()=>{document.dispatchEvent(n)}))}else console.error("Hagreed - "+((null==e?void 0:e.message)||"Erreur")),this.accessEnabled=!1}).catch(e=>{console.error("Hagreed - "+(e||"Erreur")),this.accessEnabled=!1})}manageUuid(){let e=s.get(ft);e||(e=Ve(),this.setCookie(e,ft)),this.uuid=e}init(e){var t=s.get(vt);t?(null!=(t=JSON.parse(t))&&t.length?(this.manageGoogleConsents("default",((e,t)=>{e=$(e)||[];return Je(((e,o)=>{let i=[];return e.forEach(e=>{var t,n=e.cookies;n&&(null==(t=null==n?void 0:n.filter(e=>o.includes(e.id)))?void 0:t.length)===n.length&&i.push(e.id)}),i})(e,t))})(this.cookiesList,t)),this.sendNecessaryCookies(),this.gtmEvent(t)):(this.manageGoogleConsents("default",T(j.DENIED)),this.sendNecessaryCookies(),this.consentsList=this.getNecessaryCookies()),this.manageScripts()):(this.manageGoogleConsents("default",T(j.DENIED)),this.sendNecessaryCookies(),e&&this.accessEnabled?this.displayBanner():document.addEventListener(mt,()=>{setTimeout(()=>{this.displayBanner()},this.timeout)}))}initForm(){this.accessEnabled&&document.querySelectorAll(".hagreedForm").forEach(e=>{this.injectCookieForm(e)})}close(){const e=document.getElementById(this.element);var t;e&&(this.manageScripts(),e.classList.add("hagreed_hide"),this.templateConfig.hasSuccess&&(e.innerHTML=(this.tizyBrand,`
        <div class="hagreed_success">
            <div class="hagreed__container">
                ${`
                    <a class="hagreed__copyright" target="_blank" href="https://www.hagreed.com/">${E.t("poweredBy")} ${R} !</a>
                `}
                <p class="hagreed__title hagreed__title_success">${E.t("save.title")} ✅</p>
            </div>
        </div>
    `)),t=this.templateConfig.timeout,this.timeoutAnimation=setTimeout(()=>{document.body.classList.remove("hagreed-fullpage"),e.innerHTML=""},t))}decline(){this.setCookie("[]"),this.manageGoogleConsents("update",T(j.DENIED))}sendNecessaryCookies(){var e=this.getNecessaryCookies();this.gtmEvent(e)}acceptAll(){var e=this.cookiesList.filter(e=>e.category!==i.CategoryEnum.NECESSARY).map(e=>e.id),t=document.querySelectorAll('.hagreed input[name="categorySelection"]');null!=t&&t.length&&t.forEach(e=>{e.checked=!0}),this.setCookie(JSON.stringify(e)),this.gtmEvent(e),this.manageGoogleConsents("update",T(j.GRANTED)),setTimeout(()=>{this.close()},600)}checkHagreedClass(){this.templateConfig.fullpage&&document.body.classList.add("hagreed-fullpage")}displayBanner(){var e,t,n;this.accessEnabled&&(e=document.getElementById(this.element),this.checkHagreedClass(),e)&&(this.template===i.TemplateEnum.FULLPAGE?e.innerHTML=(t=this.boxContent,`
        <div class="hagreed_minify">
            ${(n=this.tizyBrand)?`
                 <a class="hagreed__copyright" target="_blank" href="https://www.hagreed.com/">${E.t("poweredBy")} ${R} !</a>
            `:""}
            <button class="hagreed__continue hagreed-validate" data-type="${r.DECLINE_ALL}">${E.t("continueClose")} →</button>
            <div class="hagreed__container">
                ${t.logoUrl?`<img class="hagreed__logo" src="${t.logoUrl||""}" alt="${t.detail.title}" />`:null!=(n=t.banner)&&n.title?`<p class="hagreed__title">${t.banner.title||""}</p>`:""}
                <p class="hagreed__text">${t.banner.text||""}</p>
                <p class="hagreed__subtitle">${E.t("box.choice")}</p>
            </div>
            <div class="hagreed__buttons">
                <div class="hagreed__buttons__item hightlight">
                    <button class="hagreed__buttons__btn accept hagreed-validate" data-type="${r.ACCEPT_ALL}">${E.t("acceptClose")}</button>
                </div>
                <div class="hagreed__buttons__item">
                    <button class="hagreed__buttons__btn hagreed-validate" data-type="${r.MORE_INFO}">
                        ${E.t("knowMore")} →
                    </button>
                </div>
            </div>
            <div class="hagreed__container">
                ${t.cookiesUrl?`
                    <p class="hagreed__download">
                        <a class="hagreed__download" href="${t.cookiesUrl}" target="_blank">${E.t("box.getCookieList")}</a>
                    </p>
                `:""}
                <p class="hagreed__info">${E.t("box.updateChoice")}.</p>
            </div>
        </div>
    `):e.innerHTML=(n=this.boxContent.banner,this.tizyBrand,`
        <div class="hagreed_minify">
            <div class="hagreed__container">
                ${`
                    <div class="hagreed__head">
                        <a class="hagreed__copyright" target="_blank" href="https://www.hagreed.com/">${E.t("poweredBy")} ${R} !</a>
                    </div>
                `}              
                <p class="hagreed__title">${n.title||""}</p>
                <p class="hagreed__text">${n.text||""}</p>
            </div>
            <div class="hagreed__buttons">
                <div class="refused">
                    <button class="info__btn hagreed-validate" data-type="${r.DECLINE_ALL}">
                        ${E.t("disagreeAll")}
                    </button>
                </div>
                <div class="info">
                    <button class="info__btn hagreed-validate" data-type="${r.MORE_INFO}">
                        ${E.t("choose")}
                    </button>
                </div>
                <div class="accept hightlight">
                    <button class="accept__btn hagreed-validate" data-type="${r.ACCEPT_ALL}">${E.t("valid")}</button>
                </div>
            </div>
        </div>
    `),this.addEventListener(),e.classList.remove("hagreed_hide"),clearTimeout(this.timeoutAnimation),He(this.apiToken,C.CN_SHOW))}displayDetails(){var e;if(this.accessEnabled){var t=$(this.cookiesList),n=document.getElementById(this.element),n=(this.checkHagreedClass(),n&&(this.template===i.TemplateEnum.FULLPAGE?n.innerHTML=Ye(t,this.boxContent.detail,this.tizyBrand):n.innerHTML=Ge(t,this.boxContent.detail,!1,this.tizyBrand),this.addEventListener()),s.get(vt));if(n){null!=(e=document.getElementById("hagreedValidAll"))&&e.classList.remove("hightlight"),null!=(e=document.getElementById("hagreedValidSelection"))&&e.classList.add("hightlight");const o=JSON.parse(n);t.forEach(e=>{var t,n=e.cookies;n&&(null==(t=null==n?void 0:n.filter(e=>o.includes(e.id)))?void 0:t.length)===n.length&&(t=document.getElementById("cookie_category_"+e.id))&&(t.checked=!0)})}null!=(e=document.getElementById("cookieForm"))&&e.addEventListener("change",()=>{var e,t=document.querySelectorAll('.hagreed input[name="categorySelection"]:checked');null!=(e=document.getElementById(null!=t&&t.length?"hagreedValidAll":"hagreedValidSelection"))&&e.classList.remove("hightlight"),null!=(e=document.getElementById(null!=t&&t.length?"hagreedValidSelection":"hagreedValidAll"))&&e.classList.add("hightlight")})}}addEventListener(t=!0){document.querySelectorAll(".hagreed-validate").forEach(e=>e.addEventListener("click",e=>{e.target instanceof HTMLButtonElement&&((e=null==(e=null==(e=e.target)?void 0:e.dataset)?void 0:e.type)===r.ACCEPT_ALL?(this.acceptAll(),He(this.apiToken,C.CN_ACCEPT)):e===r.DECLINE_ALL?(this.decline(),this.close(),He(this.apiToken,C.CN_DECLINE)):e===r.LESS_INFO?this.displayBanner():e===r.MORE_INFO?this.displayDetails():e===r.ACCEPT_SELECTION&&(this.getSelection(t),this.close(),He(this.apiToken,C.CN_PARTIAL_ACCEPT)))}))}getSelection(i){this.setCookie("[]");const r=[],a=[];var e=document.querySelectorAll(`#cookieForm input[name="${i?"categorySelection":"cookieSelection"}"]:checked`);null!=e&&e.length&&(e.forEach(e=>{var t,n,o;e.value&&(i?(t=e.value||"",r.push(t),n=this.cookiesList,o=t,n.filter(e=>e.category===o).map(e=>e.id).forEach(e=>{a.push(e)})):a.push(e.value))}),this.gtmEvent(a),this.setCookie(JSON.stringify(a)),this.manageGoogleConsents("update",Je(r)))}gtmEvent(e){window.dataLayer=(null===window||void 0===window?void 0:window.dataLayer)||[],e.forEach(e=>{window.dataLayer.push({event:"hagreed_accept_"+e})}),this.consentsList=this.getNecessaryCookies().concat(e||[])}injectCookieForm(t){if(this.accessEnabled&&null!=(o=this.consentsFormList)&&o.length){const i=t.getAttribute("data-hagreed-id");let e="column";c.TYPE.startsWith("free_")||(e=t.getAttribute("data-hagreed-direction")||"column");var n,o=this.consentsFormList.find(e=>e.id===i);o&&(t.innerHTML=(n=o,t=e,this.tizyBrand,`
        <div class="hagreedForm_content">
            <p class="hagreedForm__title">${n.title}</p>
            ${n.description&&`<p class="hagreedForm__text">${n.description}</p>`}
            ${"row"===t?'<div class="hagreedForm__list">':""}
            ${n.purposes.map(e=>`
                <div class="purpose">
                    <div class="purpose__container">
                        <div class="purpose__content">
                            <p class="purpose__optionnal">
                                ${e.mandatory?E.t("form.mandatory"):E.t("form.optional")}
                            </p>
                            <p class="purpose__name">${e.name}</p>
                            ${e.description?`
                                <p class="purpose__text">${e.description}</p>
                                <p class="purpose__link expand-purpose more">${E.t("form.moreInfo")}</p>
                                <p class="purpose__link expand-purpose less">${E.t("form.lessInfo")}</p>
                            `:""}
                        </div>
                        <div class="purpose__check">
                            <p class="purpose__check__label">${E.t("form.yourChoice")}</p>
                            <input type="checkbox" 
                                data-purpose="${e.slug}"
                                ${e.inputId?`data-inputid="${e.inputId}"`:""}
                                name="${n.id}_${e.slug}"
                                class="purpose__check__input ${e.mandatory?"mandatory":"init"} consentInput"
                                value="${e.slug}"
                                ${e.mandatory?"checked":""} />
                            <p class="choice__label check-purpose accept">${E.t("agree")}</p>                        
                            <p class="choice__label check-purpose refused">${E.t("disagree")}</p>             
                        </div>
                    </div>
                </div>
            `).join("")}
            ${"row"===t?"</div>":""}
            ${`
                <a class="hagreedForm__copyright" target="_blank" href="https://hagreed.com">${E.t("poweredBy")} ${R} !</a>
            `}
        </div>
    `),this.formConsentsEvent(o))}}formConsentsEvent(s){document.querySelectorAll(".expand-purpose").forEach(e=>e.addEventListener("click",e=>{var e=e.currentTarget,t=e.closest(".purpose");e&&t&&t.classList.toggle("expand")})),document.querySelectorAll(".check-purpose").forEach(n=>{var e;const o=null==(e=n.closest(".purpose"))?void 0:e.querySelector(".consentInput"),r=o.dataset;let a=null;null!==r&&void 0!==r&&r.inputid&&((a=document.getElementById(r.inputid)).value=o.checked?"granted":"denied"),n.addEventListener("click",e=>{var t,i;o&&(o.classList.remove("init"),o.checked=n.classList.contains("accept"),a&&(a.value=o.checked?"granted":"denied"),t={token:this.apiToken,form_id:s.id,finality_slug:(null===r||void 0===r?void 0:r.purpose)||o.value,type:o.checked?"accepted":"denied",cid:this.uuid||""},i=t,new Promise((t,n)=>{const o=new FormData;Object.keys(i).forEach(e=>{o.append(e,i[e])}),fetch(c.API_URL+"/api/add-consent",{method:"POST",body:o}).then(e=>e.json()).then(e=>{("OK"===(null==e?void 0:e.status)?t:n)(e)}).catch(()=>{n()})}))})})}setCookie(e,t=vt){var n=window.location.hostname.split(".");let o={expires:182};2<=n.length&&(n=`.${n[n.length-2]}.`+n[n.length-1],o=Object.assign(Object.assign({},o),{domain:n})),s.set(t,e,o)}getTemplate(){return this.template!==i.TemplateEnum.FULLPAGE?qe:We}getNecessaryCookies(){return this.cookiesList.filter(e=>e.category===i.CategoryEnum.NECESSARY).map(e=>e.id)}manageScripts(){if(!c.TYPE.startsWith("free_")){const o=this.consentsList||[];document.querySelectorAll('script[type*="hagreed/"]').forEach(t=>{var n=null==t?void 0:t.getAttribute("type"),e=null==(e=null==t?void 0:t.dataset)?void 0:e.consent;if(e&&o.includes(e.replace("hagreed:",""))){let e=null;"hagreed/javascript"===n?((e=t.cloneNode(!0)).setAttribute("type","text/javascript"),e.removeAttribute("data-consent"),e&&t.after(e)):"hagreed/html"===n&&(e=t.textContent||"")&&t.insertAdjacentHTML("afterend",e),t.remove()}})}}manageGoogleConsents(e="default",t={}){this.useGoogleConsents&&!c.TYPE.startsWith("free_")&&gtag("consent",e,t)}},Object.defineProperty(i,"__esModule",{value:!0})});