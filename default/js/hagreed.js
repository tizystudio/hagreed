!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Hagreed={})}(this,function(n){"use strict";function a(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)e[n]=o[n]}return e}var o,r=function t(s,i){function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=a({},i,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o,r="";for(o in n)n[o]&&(r+="; "+o,!0!==n[o])&&(r+="="+n[o].split(";")[0]);return document.cookie=e+"="+s.write(t,e)+r}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],n={},o=0;o<t.length;o++){var r=t[o].split("="),i=r.slice(1).join("=");try{var a=decodeURIComponent(r[0]);if(n[a]=s.read(i,a),e===a)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){n(e,"",a({},t,{expires:-1}))},withAttributes:function(e){return t(this.converter,a({},this.attributes,e))},withConverter:function(e){return t(a({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(s)}})}({read:function(e){return(e='"'===e[0]?e.slice(1,-1):e).replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e){e=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==C(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===C(e)?e:String(e)}function F(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,D(o.key),o)}}function e(e,t,n){t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$(e,t)}function i(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function B(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?U(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}(A=o=o||{}).ACCEPT_SELECTION="accept_selection",A.ACCEPT_ALL="accept_all",A.DECLINE_ALL="decline_all",A.MORE_INFO="more_informations",A.LESS_INFO="less_informations";var H={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}};function p(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,p),this.init(e,t)}e(p,[{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||H,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,o){return o&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(e){return new p(this.logger,M(M({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}},{key:"clone",value:function(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new p(this.logger,e)}}]);var d=new p,f=(e(K,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)}),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(function(e){return e!==t}):delete this.observers[e])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];this.observers[t]&&[].concat(this.observers[t]).forEach(function(e){e.apply(void 0,n)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){e.apply(e,[t].concat(n))})}}]),K);function K(){s(this,K),this.observers={}}function g(){var n,o,e=new Promise(function(e,t){n=e,o=t});return e.resolve=n,e.reject=o,e}function z(e){return null==e?"":""+e}function J(e,t,n){function o(e){return e&&-1<e.indexOf("###")?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");1<i.length;){if(r())return{};var a=o(i.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return r()?{}:{obj:e,k:o(i.shift())}}function q(e,t,n){e=J(e,t,Object);e.obj[e.k]=n}function h(e,t){e=J(e,t),t=e.obj,e=e.k;if(t)return t[e]}function v(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function W(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return Y[e]}):e}var y="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&-1<window.navigator.userAgent.indexOf("MSIE"),G=[" ",",","?","!",";"];function m(e,t,n){var o=2<arguments.length&&void 0!==n?n:".";if(e){if(e[t])return e[t];for(var r=t.split(o),i=e,a=0;a<r.length;++a){if(!i)return;if("string"==typeof i[r[a]]&&a+1<r.length)return;if(void 0===i[r[a]]){for(var s=2,c=r.slice(a,a+s).join(o),l=i[c];void 0===l&&r.length>a+s;)s++,l=i[c=r.slice(a,a+s).join(o)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(c)){if("string"==typeof l)return l;if(c&&"string"==typeof l[c])return l[c]}var u=r.slice(a+s).join(o);return u?m(l,u,o):void 0}i=i[r[a]]}return i}}function Z(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Q(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return i(this,o?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}t(k,f),X=Q(k),e(k,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){e=this.options.ns.indexOf(e);-1<e&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r=(void 0!==o.keySeparator?o:this.options).keySeparator,o=(void 0!==o.ignoreJSONStructure?o:this.options).ignoreJSONStructure,i=[e,t],i=(n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(r?n.split(r):n)),-1<e.indexOf(".")&&(i=e.split(".")),h(this.data,i));return i||!o||"string"!=typeof n?i:m(this.data&&this.data[e]&&this.data[e][t],n,r)}},{key:"addResource",value:function(e,t,n,o){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator,a=(void 0===i&&(i="."),[e,t]);n&&(a=a.concat(i?n.split(i):n)),-1<e.indexOf(".")&&(o=t,t=(a=e.split("."))[1]),this.addNamespaces(t),q(this.data,a,o),r.silent||this.emit("added",e,t,n,o)}},{key:"addResources",value:function(e,t,n){var o,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,o,r){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t],s=(-1<e.indexOf(".")&&(o=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t),h(this.data,a)||{});o?function e(t,n,o){for(var r in n)"__proto__"!==r&&"constructor"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof n[r]||n[r]instanceof String?o&&(t[r]=n[r]):e(t[r],n[r],o):t[r]=n[r])}(s,n,r):s=b(b({},s),n),q(this.data,a,s),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t=t||this.options.defaultNS,"v1"===this.options.compatibilityAPI?b(b({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(function(e){return t[e]&&0<Object.keys(t[e]).length})}},{key:"toJSON",value:function(){return this.data}}]);var X,ee=k;function k(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return s(this,k),t=X.call(this),y&&f.call(c(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}var te={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,o,r){var i=this;return e.forEach(function(e){i.processors[e]&&(t=i.processors[e].process(t,n,o,r))}),t}};function ne(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function oe(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return i(this,o?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}var re,ie={},ae=(t(R,f),re=oe(R),e(R,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){return null!=e&&(e=this.resolve(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}))&&void 0!==e.res}},{key:"extractFromKey",value:function(e,t){var n,o,r,i=(void 0!==t.nsSeparator?t:this.options).nsSeparator,a=(void 0===i&&(i=":"),(void 0!==t.keySeparator?t:this.options).keySeparator),s=t.ns||this.options.defaultNS||[],c=i&&-1<e.indexOf(i),l=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||(t=e,n=(n=i)||"",o=(o=a)||"",0===(l=G.filter(function(e){return n.indexOf(e)<0&&o.indexOf(e)<0})).length)||((r=!(l=new RegExp("(".concat(l.map(function(e){return"?"===e?"\\?":e}).join("|"),")"))).test(t))||0<(u=t.indexOf(o))&&!l.test(t.substring(0,u))&&(r=!0),r));if(c&&!l){t=e.match(this.interpolator.nestingRegexp);if(t&&0<t.length)return{key:e,namespaces:s};var u=e.split(i);(i!==a||i===a&&-1<this.options.ns.indexOf(u[0]))&&(s=u.shift()),e=u.join(a)}return{key:e,namespaces:s="string"==typeof s?[s]:s}}},{key:"translate",value:function(e,o,t){var r=this;if("object"!==C(o)&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),o=(o="object"===C(o)?N({},o):o)||{},null==e)return"";Array.isArray(e)||(e=[String(e)]);var n=(void 0!==o.returnDetails?o:this.options).returnDetails,i=(void 0!==o.keySeparator?o:this.options).keySeparator,a=this.extractFromKey(e[e.length-1],o),s=a.key,c=a.namespaces,l=c[c.length-1],a=o.lng||this.language,u=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(a&&"cimode"===a.toLowerCase())return u?(u=o.nsSeparator||this.options.nsSeparator,n?{res:"".concat(l).concat(u).concat(s),usedKey:s,exactUsedKey:s,usedLng:a,usedNS:l}:"".concat(l).concat(u).concat(s)):n?{res:s,usedKey:s,exactUsedKey:s,usedLng:a,usedNS:l}:s;var u=this.resolve(e,o),p=u&&u.res,d=u&&u.usedKey||s,f=u&&u.exactUsedKey||s,g=Object.prototype.toString.apply(p),h=(void 0!==o.joinArrays?o:this.options).joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject;if(v&&p&&("string"!=typeof p&&"boolean"!=typeof p&&"number"!=typeof p)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(g)<0&&("string"!=typeof h||"[object Array]"!==g)){if(!o.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,p,N(N({},o),{},{ns:c})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string."),n?(u.res=b,u):b;if(i){var y,m,b="[object Array]"===g,k=b?[]:{},O=b?f:d;for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&(m="".concat(O).concat(i).concat(y),k[y]=this.translate(m,N(N({},o),{joinArrays:!1,ns:c})),k[y]===m)&&(k[y]=p[y]);p=k}}else if(v&&"string"==typeof h&&"[object Array]"===g)p=(p=p.join(h))&&this.extendTranslation(p,e,o,t);else{var b=!1,f=!1,d=void 0!==o.count&&"string"!=typeof o.count,w=R.hasDefaultValue(o),v=d?this.pluralResolver.getSuffix(a,o.count,o):"",S=o["defaultValue".concat(v)]||o.defaultValue;!this.isValidLookup(p)&&w&&(b=!0,p=S),this.isValidLookup(p)||(f=!0,p=s);var x=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&f?void 0:p,L=w&&S!==p&&this.options.updateMissing;if(f||b||L){this.logger.log(L?"updateKey":"missingKey",a,l,s,L?S:p),i&&(g=this.resolve(s,N(N({},o),{},{keySeparator:!1})))&&g.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.");var E=[],P=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if("fallback"===this.options.saveMissingTo&&P&&P[0])for(var _=0;_<P.length;_++)E.push(P[_]);else"all"===this.options.saveMissingTo?E=this.languageUtils.toResolveHierarchy(o.lng||this.language):E.push(o.lng||this.language);var j=function(e,t,n){n=w&&n!==p?n:x;r.options.missingKeyHandler?r.options.missingKeyHandler(e,l,t,n,L,o):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,l,t,n,L,o),r.emit("missingKey",e,l,t,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&d?E.forEach(function(t){r.pluralResolver.getSuffixes(t,o).forEach(function(e){j([t],s+e,o["defaultValue".concat(e)]||S)})}):j(E,s,S))}p=this.extendTranslation(p,e,o,u,t),f&&p===s&&this.options.appendNamespaceToMissingKey&&(p="".concat(l,":").concat(s)),(f||b)&&this.options.parseMissingKeyHandler&&(p="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(s):s,b?p:void 0):this.options.parseMissingKeyHandler(p))}return n?(u.res=p,u):p}},{key:"extendTranslation",value:function(e,o,r,t,i){var n,a=this,s=(this.i18nFormat&&this.i18nFormat.parse?e=this.i18nFormat.parse(e,N(N({},this.options.interpolation.defaultVariables),r),t.usedLng,t.usedNS,t.usedKey,{resolved:t}):r.skipInterpolation||(r.interpolation&&this.interpolator.init(N(N({},r),{interpolation:N(N({},this.options.interpolation),r.interpolation)})),(s="string"==typeof e&&(r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r:this.options).interpolation.skipOnVariables)&&(c=(c=e.match(this.interpolator.nestingRegexp))&&c.length),n=r.replace&&"string"!=typeof r.replace?r.replace:r,this.options.interpolation.defaultVariables&&(n=N(N({},this.options.interpolation.defaultVariables),n)),e=this.interpolator.interpolate(e,n,r.lng||this.language,r),s&&c<((n=e.match(this.interpolator.nestingRegexp))&&n.length)&&(r.nest=!1),!r.lng&&"v1"!==this.options.compatibilityAPI&&t&&t.res&&(r.lng=t.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i&&i[0]===t[0]&&!r.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(t[0]," in key: ").concat(o[0])),null):a.translate.apply(a,t.concat([o]))},r)),r.interpolation&&this.interpolator.reset()),r.postProcess||this.options.postProcess),c="string"==typeof s?[s]:s;return e=null!=e&&c&&c.length&&!1!==r.applyPostProcessor?te.handle(c,e,o,this.options&&this.options.postProcessPassResolved?N({i18nResolved:t},r):r,this):e}},{key:"resolve",value:function(e){var p,n,d,f,o,g=this,h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(e="string"==typeof e?[e]:e).forEach(function(e){var s,c,l,u,t;g.isValidLookup(p)||(e=g.extractFromKey(e,h),s=e.key,n=s,e=e.namespaces,g.options.fallbackNS&&(e=e.concat(g.options.fallbackNS)),c=void 0!==h.count&&"string"!=typeof h.count,l=c&&!h.ordinal&&0===h.count&&g.pluralResolver.shouldUseIntlApi(),u=void 0!==h.context&&("string"==typeof h.context||"number"==typeof h.context)&&""!==h.context,t=h.lngs||g.languageUtils.toResolveHierarchy(h.lng||g.language,h.fallbackLng),e.forEach(function(a){g.isValidLookup(p)||(o=a,!ie["".concat(t[0],"-").concat(a)]&&g.utils&&g.utils.hasLoadedNamespace&&!g.utils.hasLoadedNamespace(o)&&(ie["".concat(t[0],"-").concat(a)]=!0,g.logger.warn('key "'.concat(n,'" for languages "').concat(t.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),t.forEach(function(e){if(!g.isValidLookup(p)){f=e;var t,n,o,r,i=[s];for(g.i18nFormat&&g.i18nFormat.addLookupKeys?g.i18nFormat.addLookupKeys(i,s,e,a,h):(c&&(t=g.pluralResolver.getSuffix(e,h.count,h)),n="".concat(g.options.pluralSeparator,"zero"),c&&(i.push(s+t),l)&&i.push(s+n),u&&(o="".concat(s).concat(g.options.contextSeparator).concat(h.context),i.push(o),c)&&(i.push(o+t),l)&&i.push(o+n));r=i.pop();)g.isValidLookup(p)||(d=r,p=g.getResource(e,a,r,h))}}))}))}),{res:p,usedKey:n,exactUsedKey:d,usedLng:f,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return(this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat:this.resourceStore).getResource(e,t,n,o)}}],[{key:"hasDefaultValue",value:function(e){var t,n="defaultValue";for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n===t.substring(0,n.length)&&void 0!==e[t])return!0;return!1}}]),R);function R(e){var t,n,o,r,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s(this,R),t=re.call(this),y&&f.call(c(t)),n=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],o=e,r=c(t),n.forEach(function(e){o[e]&&(r[e]=o[e])}),t.options=i,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=d.create("translator"),t}function se(e){return e.charAt(0).toUpperCase()+e.slice(1)}e(le,[{key:"getScriptPartFromCode",value:function(e){return!e||e.indexOf("-")<0||2===(e=e.split("-")).length||(e.pop(),"x"===e[e.length-1].toLowerCase())?null:this.formatLanguageCode(e.join("-"))}},{key:"getLanguagePartFromCode",value:function(e){return!e||e.indexOf("-")<0?e:(e=e.split("-"),this.formatLanguageCode(e[0]))}},{key:"formatLanguageCode",value:function(e){var t,n;return"string"==typeof e&&-1<e.indexOf("-")?(t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-"),this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),-1<t.indexOf(n[1].toLowerCase())&&(n[1]=se(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),-1<t.indexOf(n[1].toLowerCase())&&(n[1]=se(n[1].toLowerCase())),-1<t.indexOf(n[2].toLowerCase()))&&(n[2]=se(n[2].toLowerCase())),n.join("-")):this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return"languageOnly"!==this.options.load&&!this.options.nonExplicitSupportedLngs||(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||-1<this.supportedLngs.indexOf(e)}},{key:"getBestMatchFromCodes",value:function(e){var n,o=this;return e?(e.forEach(function(e){n||(e=o.formatLanguageCode(e),o.options.supportedLngs&&!o.isSupportedCode(e))||(n=e)}),!n&&this.options.supportedLngs&&e.forEach(function(e){var t;if(!n)return t=o.getLanguagePartFromCode(e),o.isSupportedCode(t)?n=t:void(n=o.options.supportedLngs.find(function(e){return e===t||!(e.indexOf("-")<0&&t.indexOf("-")<0)&&0===e.indexOf(t)?e:void 0}))}),n=n||this.getFallbackCodes(this.options.fallbackLng)[0]):null}},{key:"getFallbackCodes",value:function(e,t){return e?("string"==typeof(e="function"==typeof e?e(t):e)&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e)?e:t?e[t]||e[this.getScriptPartFromCode(t)]||e[this.formatLanguageCode(t)]||e[this.getLanguagePartFromCode(t)]||e.default||[]:e.default||[]):[]}},{key:"toResolveHierarchy",value:function(e,t){function n(e){e&&(o.isSupportedCode(e)?r.push(e):o.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))}var o=this,t=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[];return"string"==typeof e&&-1<e.indexOf("-")?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(e))):"string"==typeof e&&n(this.formatLanguageCode(e)),t.forEach(function(e){r.indexOf(e)<0&&n(o.formatLanguageCode(e))}),r}}]);var ce=le;function le(e){s(this,le),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=d.create("languageUtils")}var ue=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],pe={1:function(e){return Number(1<e)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5)},6:function(e){return Number(1==e?0:2<=e&&e<=4?1:2)},7:function(e){return Number(1==e?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(2<=e)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:2<e&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&(e%100<10||20<=e%100)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||1<e%100&&e%100<11?1:10<e%100&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||0<e%100&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||10<e)&&e%10==0?2:3)}},de=["v1","v2","v3"],fe={zero:0,one:1,two:2,few:3,many:4,other:5};e(he,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){e=this.getRule(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return this.shouldUseIntlApi()?e&&1<e.resolvedOptions().pluralCategories.length:e&&1<e.numbers.length}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).map(function(e){return"".concat(t).concat(e)})}},{key:"getSuffixes",value:function(t){var n=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=this.getRule(t,o);return e?this.shouldUseIntlApi()?e.resolvedOptions().pluralCategories.sort(function(e,t){return fe[e]-fe[t]}).map(function(e){return"".concat(n.options.prepend).concat(e)}):e.numbers.map(function(e){return n.getSuffix(t,e,o)}):[]}},{key:"getSuffix",value:function(e,t){var n=this.getRule(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});return n?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.select(t)):this.getSuffixRetroCompatible(n,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){function n(){return o.options.prepend&&r.toString()?o.options.prepend+r.toString():r.toString()}var o=this,t=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[t];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):n():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?n():this.options.prepend&&t.toString()?this.options.prepend+t.toString():t.toString()}},{key:"shouldUseIntlApi",value:function(){return!de.includes(this.options.compatibilityJSON)}}]);var ge=he;function he(e){var n,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,he),this.languageUtils=e,this.options=t,this.logger=d.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},ue.forEach(function(t){t.lngs.forEach(function(e){n[e]={numbers:t.nr,plurals:pe[t.fc]}})}),n)}function ve(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ye(e,t,n,o,r){var i,a,o=3<arguments.length&&void 0!==o?o:".",r=!(4<arguments.length&&void 0!==r)||r,s=(i=t,void 0!==(s=h(s=e,a=n))?s:h(i,a));return s=!s&&r&&"string"==typeof n&&void 0===(s=m(e,n,o))?m(t,n,o):s}e(be,[{key:"init",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(e.interpolation||(e.interpolation={escapeValue:!0}),e.interpolation);this.escape=void 0!==e.escape?e.escape:W,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?v(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?v(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator||e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=!this.unescapePrefix&&e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?v(e.nestingPrefix):e.nestingPrefixEscaped||v("$t("),this.nestingSuffix=e.nestingSuffix?v(e.nestingSuffix):e.nestingSuffixEscaped||v(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator||e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces||1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix),e=(this.regexp=new RegExp(e,"g"),"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),e=(this.regexpUnescape=new RegExp(e,"g"),"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix));this.nestingRegexp=new RegExp(e,"g")}},{key:"interpolate",value:function(r,i,a,s){var c,l,u,p=this,d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function t(e){return e.replace(/\$/g,"$$$$")}this.resetRegExp();var f=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,g=(s&&s.interpolation&&void 0!==s.interpolation.skipOnVariables?s:this.options).interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:t},{regex:this.regexp,safeValue:function(e){return p.escapeValue?t(p.escape(e)):t(e)}}].forEach(function(e){for(u=0;c=e.regex.exec(r);){var t=c[1].trim();if((o=void 0)===(l=(n=t).indexOf(p.formatSeparator)<0?(o=ye(i,d,n,p.options.keySeparator,p.options.ignoreJSONStructure),p.alwaysFormat?p.format(o,void 0,a,O(O(O({},s),i),{},{interpolationkey:n})):o):(n=(o=n.split(p.formatSeparator)).shift().trim(),o=o.join(p.formatSeparator).trim(),p.format(ye(i,d,n,p.options.keySeparator,p.options.ignoreJSONStructure),o,a,O(O(O({},s),i),{},{interpolationkey:n})))))if("function"==typeof f){o=f(r,c,s);l="string"==typeof o?o:""}else{if(!s||!Object.prototype.hasOwnProperty.call(s,t)){if(g){l=c[0];continue}p.logger.warn("missed to pass in variable ".concat(t," for interpolating ").concat(r))}l=""}else"string"==typeof l||p.useRawValueToEscape||(l=z(l));n=e.safeValue(l);if(r=r.replace(c[0],n),g?(e.regex.lastIndex+=l.length,e.regex.lastIndex-=c[0].length):e.regex.lastIndex=0,++u>=p.maxReplaces)break}var n,o}),r}},{key:"nest",value:function(e,t){var n,o=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};function i(t,e){var n=this.nestingOptionsSeparator;if(!(t.indexOf(n)<0)){var o=t.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(o[1]),o=(t=o[0],(r=this.interpolate(r,a)).match(/'/g)),i=r.match(/"/g);(o&&o.length%2==0&&!i||i.length%2!=0)&&(r=r.replace(/'/g,'"'));try{a=JSON.parse(r),e&&(a=O(O({},e),a))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(r)}delete a.defaultValue}return t}for(;n=this.nestingRegexp.exec(e);){var a,s,c=[],l=((a=(a=O({},r)).replace&&"string"!=typeof a.replace?a.replace:a).applyPostProcessor=!1,delete a.defaultValue,!1);if(-1===n[0].indexOf(this.formatSeparator)||/{.*}/.test(n[1])||(s=n[1].split(this.formatSeparator).map(function(e){return e.trim()}),n[1]=s.shift(),c=s,l=!0),(s=t(i.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof s)return s;(s="string"!=typeof s?z(s):s)||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),s=""),l&&(s=c.reduce(function(e,t){return o.format(e,t,r.lng,O(O({},r),{},{interpolationkey:n[1].trim()}))},s.trim())),e=e.replace(n[0],s),this.regexp.lastIndex=0}return e}}]);var me=be;function be(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,be),this.logger=d.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.init(e)}function ke(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function S(i){var a={};return function(e,t,n){var o=t+JSON.stringify(n),r=a[o];return r||(r=i(t,n),a[o]=r),r(e)}}e(we,[{key:"init",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator||t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=S(t)}},{key:"format",value:function(e,t,s){var c=this,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce(function(e,t){o=(t=t).toLowerCase().trim(),n={},-1<t.indexOf("(")&&(o=(t=t.split("("))[0].toLowerCase().trim(),t=t[1].substring(0,t[1].length-1),"currency"===o&&t.indexOf(":")<0?n.currency||(n.currency=t.trim()):"relativetime"===o&&t.indexOf(":")<0?n.range||(n.range=t.trim()):t.split(";").forEach(function(e){var t;e&&(t=(e=B(e.split(":")))[0],e=e.slice(1).join(":").trim().replace(/^'+|'+$/g,""),n[t.trim()]||(n[t.trim()]=e),"false"===e&&(n[t.trim()]=!1),"true"===e&&(n[t.trim()]=!0),isNaN(e)||(n[t.trim()]=parseInt(e,10)))}));var n,t={formatName:o,formatOptions:n},o=t.formatName,t=t.formatOptions;if(c.formats[o]){var r=e;try{var i=l&&l.formatParams&&l.formatParams[l.interpolationkey]||{},a=i.locale||i.lng||l.locale||l.lng||s,r=c.formats[o](e,a,w(w(w({},t),l),i))}catch(e){c.logger.warn(e)}return r}return c.logger.warn("there was no format function for ".concat(o)),e},e)}}]);var Oe=we;function we(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,we),this.logger=d.create("formatter"),this.options=e,this.formats={number:S(function(e,t){var n=new Intl.NumberFormat(e,w({},t));return function(e){return n.format(e)}}),currency:S(function(e,t){var n=new Intl.NumberFormat(e,w(w({},t),{},{style:"currency"}));return function(e){return n.format(e)}}),datetime:S(function(e,t){var n=new Intl.DateTimeFormat(e,w({},t));return function(e){return n.format(e)}}),relativetime:S(function(e,t){var n=new Intl.RelativeTimeFormat(e,w({},t));return function(e){return n.format(e,t.range||"day")}}),list:S(function(e,t){var n=new Intl.ListFormat(e,w({},t));return function(e){return n.format(e)}})},this.init(e)}function Se(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Le(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return i(this,o?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}t(x,f),Ee=Le(x),e(x,[{key:"queueLoad",value:function(e,t,r,n){var i=this,a={},s={},c={},l={};return e.forEach(function(n){var o=!0;t.forEach(function(e){var t="".concat(n,"|").concat(e);!r.reload&&i.store.hasResourceBundle(n,e)?i.state[t]=2:i.state[t]<0||(1===i.state[t]?void 0===s[t]&&(s[t]=!0):(i.state[t]=1,o=!1,void 0===s[t]&&(s[t]=!0),void 0===a[t]&&(a[t]=!0),void 0===l[e]&&(l[e]=!0)))}),o||(c[n]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(i,a,e){var t=i.split("|"),s=t[0],c=t[1],l=(a&&this.emit("failedLoading",s,c,a),e&&this.store.addResourceBundle(s,c,e),this.state[i]=a?-1:2,{});this.queue.forEach(function(n){var e,t,o,r;e=n.loaded,t=c,o=(e=J(e,o=[s],Object)).obj,e=e.k,o[e]=o[e]||[],r&&(o[e]=o[e].concat(t)),r||o[e].push(t),r=i,void 0!==(o=n).pending[r]&&(delete o.pending[r],o.pendingCount--),a&&n.errors.push(a),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(function(t){l[t]||(l[t]={});var e=n.loaded[t];e.length&&e.forEach(function(e){void 0===l[t][e]&&(l[t][e]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(function(e){return!e.done})}},{key:"read",value:function(o,r,i){var a=this,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,l=5<arguments.length?arguments[5]:void 0;if(!o.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:o,ns:r,fcName:i,tried:s,wait:c,callback:l});else{this.readingCalls++;var t=function(e,t){var n;a.readingCalls--,0<a.waitingReads.length&&(n=a.waitingReads.shift(),a.read(n.lng,n.ns,n.fcName,n.tried,n.wait,n.callback)),e&&t&&s<a.maxRetries?setTimeout(function(){a.read.call(a,o,r,i,s+1,2*c,l)},c):l(e,t)},e=this.backend[i].bind(this.backend);if(2!==e.length)return e(o,r,t);try{var n=e(o,r);n&&"function"==typeof n.then?n.then(function(e){return t(null,e)}).catch(t):t(null,n)}catch(e){t(e)}}}},{key:"prepareLoading",value:function(e,t){var n=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e));e=this.queueLoad(e,t="string"==typeof t?[t]:t,o,r);if(!e.toLoad.length)return e.pending.length||r(),null;e.toLoad.forEach(function(e){n.loadOne(e)})}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(n){var o=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=n.split("|"),i=e[0],a=e[1];this.read(i,a,"read",void 0,void 0,function(e,t){e&&o.logger.warn("".concat(r,"loading namespace ").concat(a," for language ").concat(i," failed"),e),!e&&t&&o.logger.log("".concat(r,"loaded namespace ").concat(a," for language ").concat(i),t),o.loaded(n,e,t)})}},{key:"saveMissing",value:function(e,t,n,o,r){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){i=xe(xe({},i),{},{isUpdate:r}),r=this.backend.create.bind(this.backend);if(r.length<6)try{var s=5===r.length?r(e,t,n,o,i):r(e,t,n,o);s&&"function"==typeof s.then?s.then(function(e){return a(null,e)}).catch(a):a(null,s)}catch(e){a(e)}else r(e,t,n,o,a,i)}e&&e[0]&&this.store.addResource(e[0],t,n,o)}}}]);var Ee,Pe=x;function x(e,t,n){var o,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return s(this,x),o=Ee.call(this),y&&f.call(c(o)),o.backend=e,o.store=t,o.services=n,o.languageUtils=n.languageUtils,o.options=r,o.logger=d.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=r.maxParallelReads||10,o.readingCalls=0,o.maxRetries=0<=r.maxRetries?r.maxRetries:5,o.retryTimeout=1<=r.retryTimeout?r.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,r.backend,r),o}function _e(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t,n={};return"object"===C(e[1])&&(n=e[1]),"string"==typeof e[1]&&(n.defaultValue=e[1]),"string"==typeof e[2]&&(n.tDescription=e[2]),"object"!==C(e[2])&&"object"!==C(e[3])||(t=e[3]||e[2],Object.keys(t).forEach(function(e){n[e]=t[e]})),n},interpolation:{escapeValue:!0,format:function(e,t,n,o){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function je(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Ce(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ce(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ne(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return i(this,o?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function E(){}t(P,f),Re=Ne(P),e(P,[{key:"init",value:function(){var e,t,r=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length?arguments[1]:void 0,i=("function"==typeof n&&(o=n,n={}),!n.defaultNS&&!1!==n.defaultNS&&n.ns&&("string"==typeof n.ns?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0])),_e());function a(e){return e?"function"==typeof e?new e:e:null}this.options=L(L(L({},i),this.options),je(n)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=L(L({},i.interpolation),this.options.interpolation)),void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator),this.options.isClone||(this.modules.logger?d.init(a(this.modules.logger),this.options):d.init(null,this.options),this.modules.formatter?e=this.modules.formatter:"undefined"!=typeof Intl&&(e=Oe),n=new ce(this.options),this.store=new ee(this.options.resources,this.options),(t=this.services).logger=d,t.resourceStore=this.store,t.languageUtils=n,t.pluralResolver=new ge(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!e||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(t.formatter=a(e),t.formatter.init(t,this.options),this.options.interpolation.format=t.formatter.format.bind(t.formatter)),t.interpolator=new me(this.options),t.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},t.backendConnector=new Pe(a(this.modules.backend),t.resourceStore,t,this.options),t.backendConnector.on("*",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r.emit.apply(r,[e].concat(n))}),this.modules.languageDetector&&(t.languageDetector=a(this.modules.languageDetector),t.languageDetector.init)&&t.languageDetector.init(t,this.options.detection,this.options),this.modules.i18nFormat&&(t.i18nFormat=a(this.modules.i18nFormat),t.i18nFormat.init)&&t.i18nFormat.init(this),this.translator=new ae(this.services,this.options),this.translator.on("*",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r.emit.apply(r,[e].concat(n))}),this.modules.external.forEach(function(e){e.init&&e.init(r)})),this.format=this.options.interpolation.format,o=o||E,!this.options.fallbackLng||this.services.languageDetector||this.options.lng||0<(n=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng)).length&&"dev"!==n[0]&&(this.options.lng=n[0]),this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(t){r[t]=function(){var e;return(e=r.store)[t].apply(e,arguments)}});function s(){function e(e,t){r.isInitialized&&!r.initializedStoreOnce&&r.logger.warn("init: i18next is already initialized. You should call init just once!"),r.isInitialized=!0,r.options.isClone||r.logger.log("initialized",r.options),r.emit("initialized",r.options),c.resolve(t),o(e,t)}if(r.languages&&"v1"!==r.options.compatibilityAPI&&!r.isInitialized)return e(null,r.t.bind(r));r.changeLanguage(r.options.lng,e)}["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(t){r[t]=function(){var e;return(e=r.store)[t].apply(e,arguments),r}});var c=g();return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),c}},{key:"loadResources",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:E,o="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&"cimode"===o.toLowerCase())return n();var r=[],e=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(e){r.indexOf(e)<0&&r.push(e)})};o?e(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e),this.options.preload&&this.options.preload.forEach(e),this.services.backendConnector.load(r,this.options.ns,function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)})}else n(null)}},{key:"reloadResources",value:function(e,t,n){var o=g();return e=e||this.languages,t=t||this.options.ns,n=n||E,this.services.backendConnector.reload(e,t,function(e){o.resolve(),n(e)}),o}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(e.type)return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&te.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this;throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()")}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(-1<["cimode","dev"].indexOf(e)))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(-1<["cimode","dev"].indexOf(n))&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(n,o){function e(e){var t="string"==typeof(e=n||e||!r.services.languageDetector?e:[])?e:r.services.languageUtils.getBestMatchFromCodes(e);t&&(r.language||a(t),r.translator.language||r.translator.changeLanguage(t),r.services.languageDetector)&&r.services.languageDetector.cacheUserLanguage&&r.services.languageDetector.cacheUserLanguage(t),r.loadResources(t,function(e){s(e,t)})}var r=this,i=(this.isLanguageChangingTo=n,g()),a=(this.emit("languageChanging",n),function(e){r.language=e,r.languages=r.services.languageUtils.toResolveHierarchy(e),r.resolvedLanguage=void 0,r.setResolvedLanguage(e)}),s=function(e,t){t?(a(t),r.translator.changeLanguage(t),r.isLanguageChangingTo=void 0,r.emit("languageChanged",t),r.logger.log("languageChanged",t)):r.isLanguageChangingTo=void 0,i.resolve(function(){return r.t.apply(r,arguments)}),o&&o(e,function(){return r.t.apply(r,arguments)})};return n||!this.services.languageDetector||this.services.languageDetector.async?!n&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(e):this.services.languageDetector.detect(e):e(n):e(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t,s){function c(e,t){var n;if("object"!==C(t)){for(var o=arguments.length,r=new Array(2<o?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];n=l.options.overloadTranslationOptionHandler([e,t].concat(r))}else n=L({},t);n.lng=n.lng||c.lng,n.lngs=n.lngs||c.lngs,n.ns=n.ns||c.ns,n.keyPrefix=n.keyPrefix||s||c.keyPrefix;var a=l.options.keySeparator||".",t=n.keyPrefix&&Array.isArray(e)?e.map(function(e){return"".concat(n.keyPrefix).concat(a).concat(e)}):n.keyPrefix?"".concat(n.keyPrefix).concat(a).concat(e):e;return l.t(t,n)}var l=this;return"string"==typeof e?c.lng=e:c.lngs=e,c.ns=t,c.keyPrefix=s,c}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===o.toLowerCase())return!0;function a(e,t){return-1===(e=n.services.backendConnector.state["".concat(e,"|").concat(t)])||2===e}if(t.precheck){t=t.precheck(this,a);if(void 0!==t)return t}return!!this.hasResourceBundle(o,e)||!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!a(o,e)||r&&!a(i,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,o=g();return this.options.ns?((e="string"==typeof e?[e]:e).forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(function(e){o.resolve(),t&&t(e)}),o):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=g(),o=this.options.preload||[],e=(e="string"==typeof e?[e]:e).filter(function(e){return o.indexOf(e)<0});return e.length?(this.options.preload=o.concat(e),this.loadResources(function(e){n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){var t;return!(e=e||this.resolvedLanguage||(this.languages&&0<this.languages.length?this.languages[0]:this.language))||(t=this.services&&this.services.languageUtils||new ce(_e()),-1<["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e)))||1<e.toLowerCase().indexOf("-arab")?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:E,o=L(L(L({},this.options),e),{isClone:!0}),r=new P(o);void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e));return["store","services","language"].forEach(function(e){r[e]=t[e]}),r.services=L({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r.translator=new ae(r.services,r.options),r.translator.on("*",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r.emit.apply(r,[e].concat(n))}),r.init(o,n),r.translator.options=r.options,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]);var Re,Ie=P;function P(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length?arguments[1]:void 0;if(s(this,P),e=Re.call(this),y&&f.call(c(e)),e.options=je(n),e.services={},e.logger=d,e.modules={external:[]},t=c(e),Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))}),o&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,o),i(e,c(e));setTimeout(function(){e.init(n,o)},0)}return e}u(Ie,"createInstance",function(){return new Ie(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length?arguments[1]:void 0)});var _=Ie.createInstance();_.createInstance=Ie.createInstance,_.createInstance,_.dir,_.init,_.loadResources,_.reloadResources,_.use,_.changeLanguage,_.getFixedT,_.t,_.exists,_.setDefaultNamespace,_.hasLoadedNamespace,_.loadNamespaces,_.loadLanguages;const Te='<svg xmlns="http://www.w3.org/2000/svg" width="22.628" height="9.352" viewBox="0 0 22.628 9.352">\n  <path id="Union_1" data-name="Union 1" d="M-1983.61-42.546l2.334-.136v.645l.19.462-.389,4.68-2.461.034Zm-4.36,5.138-.325-4.406-1.1.278-.6-.5.17-.5-.17-1.418,5.067.034.263-.183.622.288-.42,2.321-1.488-.083.326,4.683Zm15.539.381V-38.8l-1.469-1.479-.388-.324v-3.269l2.613.186-.136,2.39.644,1.1.49-.688-.258-2.936,2.448.093-.206,3.276-1.34,1.486.214,1.461-.5.478Zm-7.986-.9-.352-1.4,2.3-2.3-1.586.183-.408-.589.181-.264-.136-1.585,5.463.128.065,2.026-2.353,2.56,1.968-.122.385.731-.476,1.26-5.051.267Zm-2.688-5.3-.454-.91.859-.806.635.008.2.211.114-.091.037-.105.156-.079.529.556-.179.127-.155.027-.054.027.174.179-.394.918Z" transform="translate(1990.584 45.615)" fill="#c3b2c4" stroke="rgba(0,0,0,0)" stroke-miterlimit="10" stroke-width="1"/>\n</svg>\n',Ae=(e,t)=>`
        <div class="hagreed_details">
            <div class="hagreed__container">
                <div class="hagreed__head">
                    <a class="hagreed__copyright" target="_blank" href="https://cookie.tizy.fr">${_.t("poweredBy")} ${Te} ${_.t("poweredByGang")} !</a>
                </div>
                <p class="hagreed__title">${t.detailTitle||""}</p>
                <p class="hagreed__text">${t.detailText||""}</p>
                
                <form id="cookieForm" class="hagreed__form">
                    <ul class="categories categories_detail">
                         ${e.map(e=>{return`<li class="categories__item">${e=e,`
        <div class="category">
            <p class="category__title">${_.t(e.name)}</p>
            <p class="category__text">${_.t(e.description||"")}</p>
            <ul class="category__cookies">
                ${e.cookies.map(e=>`
                    <li class="category__cookies__item">
                        <a href="${e.link||"#"}" target="${e.link?"_blank":"_self"}">${e.name}</a>
                    </li>
                `).join("")}
            </ul>
             ${e.is_checked?"":`
                <div class="category__choice">
                    <label class="cookie-switch">
                        <input  type="checkbox" 
                                class="cookie-switch__input"
                                value="${e.id}"
                                id="cookie_category_${e.id}"
                                ${e.is_checked?'onclick="return false;"':""}
                                ${e.is_checked?"checked":""}
                                name="categorySelection">
                            <span class="cookie-switch__element">${_.t("disabled")}</span>
                            <span class="cookie-switch__element">${_.t("enabled")}</span>
                            <span class="cookie-switch__bar"></span>
                            <span class="cookie-switch__border"></span>
                    </label>
                </div>
             `}
        </div>
    `}</li>`}).join("")}
                    </ul>
                </form>
            </div>
            <div class="hagreed__buttons">
                <div class="refused">
                    <button class="info__btn hagreed-validate" data-type="${o.LESS_INFO}">
                        ${_.t("back")}
                    </button>
                </div>
                <div class="info hightlight" id="hagreedValidAll">
                    <button class="info__btn hagreed-validate" data-type="${o.ACCEPT_ALL}">
                        ${_.t("validAll")}
                    </button>
                </div>
                <div class="accept" id="hagreedValidSelection">
                    <button class="accept__btn hagreed-validate" data-type="${o.ACCEPT_SELECTION}">${_.t("saveSelection")}</button>
                </div>
            </div>
        </div>
    `,De=(n.CategoryEnum=void 0,(A=n.CategoryEnum||(n.CategoryEnum={})).NECESSARY="necessary",A.PREFERENCES="preferences",A.STATISTIQUES="statistiques",A.MARKETING="marketing",A.DIVERS="divers",[{id:n.CategoryEnum.NECESSARY,name:"category.necessary.title",description:"category.necessary.text",is_checked:!0,cookies:[]},{id:n.CategoryEnum.PREFERENCES,name:"category.necessary.preference",description:"category.necessary.text",cookies:[]},{id:n.CategoryEnum.STATISTIQUES,name:"category.stats.title",description:"category.stats.text",cookies:[]},{id:n.CategoryEnum.MARKETING,name:"category.marketing.title",description:"category.marketing.text",cookies:[]},{id:n.CategoryEnum.DIVERS,name:"category.others.title",description:"category.others.text",cookies:[]}]),j={API_URL:"https://samovar.athena.tizy-studio.fr",TYPE:"free_sdk_node"};const Fe={resources:{fr:{translation:{poweredBy:"Propuls par le",poweredByGang:"gang",hey:"Hey",back:"Retour",valid:"Jaccepte",validAll:"Jaccepte tout",choose:"Je slectionne",cancel:"Annuler",saveSelection:"Valider mes prfrences",enabled:"Activer",disabled:"Dsactiver",disagreeAll:"Pas d'accord",disagree:"Je refuse",agree:"Jautorise",box:{description:"Pour vous viter de louper une exprience optimale sur ce site, nous utilisons des cookies. Est-ce ok pour vous ?"},detail:{title:"Ma prfrence  moi",description:""},form:{mandatory:"Ncessaire pour ce formulaire",optional:"Optionnel",moreInfo:"Plus dinformations",lessInfo:"Masquer les informations",yourChoice:"Votre choix"},save:{title:"Prferences prises en compte"},category:{necessary:{title:"Ncessaires",text:"Les cookies ncessaires contribuent  rendre un site web utilisable en activant des fonctions de base comme la navigation de page et l'accs aux zones scurises du site web. Le site web ne peut pas fonctionner correctement sans ces cookies."},preference:{title:"Prfrences",text:"Les cookies de prfrences permettent  un site web de retenir des informations qui modifient la manire dont le site se comporte ou saffiche, comme votre langue prfre ou la rgion dans laquelle vous vous situez."},stats:{title:"Statistiques",text:"Les cookies statistiques aident les propritaires du site web, par la collecte et la communication d'informations de manire anonyme,  comprendre comment les visiteurs interagissent avec les sites web."},marketing:{title:"Marketing",text:"Les cookies marketing sont utiliss pour effectuer le suivi des visiteurs au travers des sites web. Le but est d'afficher des publicits qui sont pertinentes et intressantes pour l'utilisateur individuel et donc plus prcieuses pour les diteurs et annonceurs tiers."},others:{title:"Divers",text:"Les cookies non classs sont les cookies qui sont en cours de classification, ainsi que les fournisseurs de cookies individuels."}}}},en:{translation:{poweredBy:"Powered By",poweredByGang:"gang",back:"Back",hey:"Hey",valid:"I accept",validAll:"I authorize",choose:"I select",cancel:"Cancel",saveSelection:"Save Selection",enabled:"Enable",disabled:"Disable",disagree:"I refuse",disagreeAll:"I refuse",agree:"I authorize",box:{description:"To prevent you from missing the best experience on this site, we use cookies. Is this ok for you?"},detail:{title:"My personal preference",description:"Leverage agile frameworks to provide a robust synopsis for high level overviews. Iterative approaches to corporate strategy foster collaborative thinking to further the overall value proposition."},form:{mandatory:"Required for this form",optional:"Optional",moreInfo:"More Info",lessInfo:"Hide Info",yourChoice:"Your choice"},save:{title:"Preferences taken into account"},category:{necessary:{title:"Necessary",text:"Necessary cookies help make a website usable by enabling basic functions such as page navigation and access to secure areas of the website. The website cannot function properly without these cookies."},preference:{title:"Preferences",text:"Preference cookies allow a website to remember information that changes the way the site behaves or displays, such as your preferred language or the region in which you are located."},stats:{title:"Statistics",text:"Statistical cookies help website owners, by collecting and reporting information anonymously, to understand how visitors interact with websites."},marketing:{title:"Marketing",text:"Marketing cookies are used to track visitors across websites. The purpose is to display advertisements that are relevant and interesting to the individual user and therefore more valuable to publishers and third party advertisers ."},others:{title:"Miscellaneous",text:"Unclassified cookies are cookies that are being classified, as well as individual cookie providers."}}}}}};let $e;const Ue=new Uint8Array(16);const I=[];for(let e=0;e<256;++e)I.push((e+256).toString(16).slice(1));var T,A,Be={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Ve(e,t,n){if(Be.randomUUID&&!t&&!e)return Be.randomUUID();var o,r=(e=e||{}).random||(e.rng||function(){if($e=$e||"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto))return $e(Ue);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return e=r,o=0,(I[e[o+0]]+I[e[o+1]]+I[e[o+2]]+I[e[o+3]]+"-"+I[e[o+4]]+I[e[o+5]]+"-"+I[e[o+6]]+I[e[o+7]]+"-"+I[e[o+8]]+I[e[o+9]]+"-"+I[e[o+10]]+I[e[o+11]]+I[e[o+12]]+I[e[o+13]]+I[e[o+14]]+I[e[o+15]]).toLowerCase()}const Me=(o,r)=>new Promise((t,n)=>{var e=new FormData;e.append("token",o),e.append("type",r),fetch(j.API_URL+"/api/hit",{method:"POST",body:e}).then(e=>e.json()).then(e=>{("OK"===(null==e?void 0:e.status)?t:n)(e)}).catch(()=>{n()})}),He=((A=T=T||{}).CN_SHOW="CN_SHOW",A.CN_ACCEPT="CN_ACCEPT",A.CN_PARTIAL_ACCEPT="CN_PARTIAL_ACCEPT",A.CN_DECLINE="CN_DECLINE","hagreedIdTizy"),Ke="hagreedCookiesTizy",ze="hagreedSecurity";n.default=class{constructor(e,t){this.element="hagreed",this.cookiesList=[],this.consentsFormList=[],this.timeout=0,this.apiToken="",this.accessEnabled=!1,this.uuid="",this.apiToken=e,_.init(Object.assign(Object.assign(Object.assign({},Fe),{fallbackLng:(null==t?void 0:t.lang)||"fr"}),(null==t?void 0:t.forceLang)&&{lng:null==t?void 0:t.lang})),this.cookieTexts={minifyTitle:_.t("hey")+" ! ",minifyText:_.t("box.description")||"",detailTitle:_.t("detail.title")+" ",detailText:_.t("detail.description")||""},this.manageUuid(),this.checkSecurity(),document.addEventListener(ze,()=>{this.initForm()})}checkSecurity(){var o;o=this.apiToken,new Promise((t,e)=>{var n=new FormData;n.append("token",o),n.append("package_type",j.TYPE),fetch(j.API_URL+"/api/check-license",{method:"POST",body:n}).then(e=>e.json()).then(e=>{t(e)}).catch(()=>{e(new Error)})}).then(e=>{var t;if("OK"===(null==e?void 0:e.status)){if(this.accessEnabled=!0,((null==(t=null==e?void 0:e.response)?void 0:t.package_type)||void 0)!==j.TYPE)return console.error("Hagreed - "+((null==e?void 0:e.message)||"Les packages ne correspondent pas")),void(this.accessEnabled=!1);const n=new CustomEvent(ze);void("complete"===document.readyState?document.dispatchEvent(n):addEventListener("load",()=>{document.dispatchEvent(n)}))}else console.error("Hagreed - "+((null==e?void 0:e.message)||"Erreur")),this.accessEnabled=!1}).catch(e=>{console.error("Hagreed - "+(e||"Erreur")),this.accessEnabled=!1})}manageUuid(){let e=r.get(He);e||(e=Ve(),this.setCookie(e,He)),this.uuid=e}init(){var e=r.get(Ke);this.sendNecessaryCookies(),e?null!=(e=JSON.parse(e))&&e.length&&this.gtmEvent(e):document.addEventListener(ze,()=>{setTimeout(()=>{this.displayBanner()},this.timeout)})}initForm(){this.accessEnabled&&document.querySelectorAll(".hagreedForm").forEach(e=>{this.injectCookieForm(e)})}close(){const e=document.getElementById(this.element);e&&(e.classList.add("hagreed_hide"),e.innerHTML=`
        <div class="hagreed_success">
            <div class="hagreed__container">
                <a class="hagreed__copyright" target="_blank" href="https://cookie.tizy.fr">${_.t("poweredBy")} ${Te} ${_.t("poweredByGang")} !</a>
                <p class="hagreed__title hagreed__title_success">${_.t("save.title")} </p>
            </div>
        </div>
    `,this.timeoutAnimation=setTimeout(()=>{e.innerHTML=""},5e3))}decline(){this.setCookie("[]")}sendNecessaryCookies(){var e=this.cookiesList.filter(e=>e.category===n.CategoryEnum.NECESSARY).map(e=>e.id);this.gtmEvent(e)}acceptAll(){var e=this.cookiesList.filter(e=>e.category!==n.CategoryEnum.NECESSARY).map(e=>e.id),t=document.querySelectorAll('.hagreed input[name="categorySelection"]');null!=t&&t.length&&t.forEach(e=>{e.checked=!0}),this.setCookie(JSON.stringify(e)),this.gtmEvent(e),setTimeout(()=>{this.close()},600)}displayBanner(){var e,t;this.accessEnabled&&(e=document.getElementById(this.element))&&(e.innerHTML=(t=this.cookieTexts,`
        <div class="hagreed_minify">
            <div class="hagreed__container">
                <div class="hagreed__head">
                    <a class="hagreed__copyright" target="_blank" href="https://cookie.tizy.fr">${_.t("poweredBy")} ${Te} ${_.t("poweredByGang")} !</a>
                </div>                
                <p class="hagreed__title">${t.minifyTitle||""}</p>
                <p class="hagreed__text">${t.minifyText||""}</p>
            </div>
            <div class="hagreed__buttons">
                <div class="refused">
                    <button class="info__btn hagreed-validate" data-type="${o.DECLINE_ALL}">
                        ${_.t("disagreeAll")}
                    </button>
                </div>
                <div class="info">
                    <button class="info__btn hagreed-validate" data-type="${o.MORE_INFO}">
                        ${_.t("choose")}
                    </button>
                </div>
                <div class="accept hightlight">
                    <button class="accept__btn hagreed-validate" data-type="${o.ACCEPT_ALL}">${_.t("valid")}</button>
                </div>
            </div>
        </div>
    `),this.addEventListener(),e.classList.remove("hagreed_hide"),clearTimeout(this.timeoutAnimation),Me(this.apiToken,T.CN_SHOW))}displayDetails(){var e;if(this.accessEnabled){var t=(e=>{const o=[];return e.forEach(t=>{var e,n=o.findIndex(e=>(null==e?void 0:e.id)===t.category);n<0?null!=(e=JSON.parse(JSON.stringify(De)).find(e=>e.id===t.category))&&e.cookies&&(e.cookies.push(t),o.push(e)):null!=(e=o[n].cookies)&&e.push(t)}),o})(this.cookiesList),n=document.getElementById(this.element),n=(n&&(n.innerHTML=Ae(t,this.cookieTexts),this.addEventListener()),r.get(Ke));if(n){null!=(e=document.getElementById("hagreedValidAll"))&&e.classList.remove("hightlight"),null!=(e=document.getElementById("hagreedValidSelection"))&&e.classList.add("hightlight");const o=JSON.parse(n);t.forEach(e=>{var t,n=e.cookies;n&&(null==(t=null==n?void 0:n.filter(e=>o.includes(e.id)))?void 0:t.length)===n.length&&(t=document.getElementById("cookie_category_"+e.id))&&(t.checked=!0)})}null!=(e=document.getElementById("cookieForm"))&&e.addEventListener("change",()=>{var e,t=document.querySelectorAll('.hagreed input[name="categorySelection"]:checked');null!=(e=document.getElementById(null!=t&&t.length?"hagreedValidAll":"hagreedValidSelection"))&&e.classList.remove("hightlight"),null!=(e=document.getElementById(null!=t&&t.length?"hagreedValidSelection":"hagreedValidAll"))&&e.classList.add("hightlight")})}}addEventListener(t=!0){document.querySelectorAll(".hagreed-validate").forEach(e=>e.addEventListener("click",e=>{e.target instanceof HTMLButtonElement&&((e=null==(e=null==(e=e.target)?void 0:e.dataset)?void 0:e.type)===o.ACCEPT_ALL?(this.acceptAll(),Me(this.apiToken,T.CN_ACCEPT)):e===o.DECLINE_ALL?(this.decline(),this.close(),Me(this.apiToken,T.CN_DECLINE)):e===o.LESS_INFO?this.displayBanner():e===o.MORE_INFO?this.displayDetails():e===o.ACCEPT_SELECTION&&(this.getSelection(t),this.close(),Me(this.apiToken,T.CN_PARTIAL_ACCEPT)))}))}getSelection(o){this.setCookie("[]");const r=[];var e=document.querySelectorAll(`#cookieForm input[name="${o?"categorySelection":"cookieSelection"}"]:checked`);null!=e&&e.length&&(e.forEach(e=>{var t,n;e.value&&(o?r.push(...(t=this.cookiesList,n=e.value,t.filter(e=>e.category===n).map(e=>e.id))):r.push(e.value))}),this.gtmEvent(r),this.setCookie(JSON.stringify(r)))}gtmEvent(e){window.dataLayer=window.dataLayer||[],e.forEach(e=>{window.dataLayer.push({event:"hagreed_accept_"+e})})}injectCookieForm(t){if(this.accessEnabled&&null!=(r=this.consentsFormList)&&r.length){const i=t.getAttribute("data-hagreed-id");let e="column";j.TYPE.startsWith("free_")||(e=t.getAttribute("data-hagreed-direction")||"column");var n,o,r=this.consentsFormList.find(e=>e.id===i);r&&(t.innerHTML=(n=r,o=e,`
        <div class="hagreedForm_content">
            <p class="hagreedForm__title">${n.title}</p>
            ${n.description&&`<p class="hagreedForm__text">${n.description}</p>`}
            ${"row"===o?'<div class="hagreedForm__list">':""}
            ${n.purposes.map(e=>`
                <div class="purpose">
                    <div class="purpose__container">
                        <div class="purpose__content">
                            <p class="purpose__optionnal">
                                ${e.mandatory?_.t("form.mandatory"):_.t("form.optional")}
                            </p>
                            <p class="purpose__name">${e.name}</p>
                            ${e.description?`
                                <p class="purpose__text">${e.description}</p>
                                <p class="purpose__link expand-purpose more">${_.t("form.moreInfo")}</p>
                                <p class="purpose__link expand-purpose less">${_.t("form.lessInfo")}</p>
                            `:""}
                        </div>
                        <div class="purpose__check">
                            <p class="purpose__check__label">${_.t("form.yourChoice")}</p>
                            <input type="checkbox" 
                                class="purpose__check__input ${e.mandatory?"mandatory":"init"} consentInput"
                                value="${e.slug}"
                                ${e.mandatory?"checked":""} />
                            <p class="choice__label check-purpose accept">${_.t("agree")}</p>                        
                            <p class="choice__label check-purpose refused">${_.t("disagree")}</p>             
                        </div>
                    </div>
                </div>
            `).join("")}
            ${"row"===o?"</div>":""}
            
            <a class="hagreedForm__copyright" target="_blank" href="https://hagreed.com">${_.t("poweredBy")} ${Te} ${_.t("poweredByGang")} !</a>
        </div>
    `),this.formConsentsEvent(t,r))}}formConsentsEvent(e,n){document.querySelectorAll(".expand-purpose").forEach(e=>e.addEventListener("click",e=>{var e=e.currentTarget,t=e.closest(".purpose");e&&t&&t.classList.toggle("expand")})),document.querySelectorAll(".check-purpose").forEach(e=>e.addEventListener("click",e=>{var r,e=e.currentTarget,t=null==(t=e.closest(".purpose"))?void 0:t.querySelector(".consentInput");t&&(t.classList.remove("init"),t.checked=e.classList.contains("accept"),e={token:this.apiToken,form_id:n.id,finality_slug:t.value,type:t.checked?"accepted":"denied",cid:this.uuid||""},r=e,new Promise((t,n)=>{const o=new FormData;Object.keys(r).forEach(e=>{o.append(e,r[e])}),fetch(j.API_URL+"/api/add-consent",{method:"POST",body:o}).then(e=>e.json()).then(e=>{("OK"===(null==e?void 0:e.status)?t:n)(e)}).catch(()=>{n()})}))}))}setCookie(e,t=Ke){var n=window.location.hostname.split(".");let o={};2<=n.length&&(n=`.${n[n.length-2]}.`+n[n.length-1],o={domain:n}),r.set(t,e,o)}},Object.defineProperty(n,"__esModule",{value:!0})});